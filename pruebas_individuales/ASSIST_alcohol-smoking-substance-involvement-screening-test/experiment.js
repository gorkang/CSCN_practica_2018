/**
 * CSCN lab
/**
This document was made with test_maker
*/

onkeydown = function block_fkeys(event){
  var x = event.which || event.keyCode;
  if(x == 112 || x == 116){
    console.log("Blocked key");
    event.preventDefault();
    return false;
  }else{
    return;
  }
}

var questions = [];    //final timeline
var questions_experiment = [];    //temporal timeline
var variables = {};  

var instruction_screen_experiment = {
  type: 'instructions',
  pages: ['<p><left><b><big>OMS - Assist</big></b><br />'+
  'Conteste las siguientes preguntas.' +'</p>'],
  data:{trialid: 'Screen_WM'},
  show_clickable_nav: true,
  on_trial_start: function (){
    bloquear_enter = 0;
  }
}

var question01 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>A lo largo de su vida, ¿consumió alguna vez tabaco (cigarrillos, cigarros habanos, tabaco de mascar, pipa, etc.)?</div>", options: ['Si', 'No'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Tabaco_1'}
}
questions_experiment.push(question01);

var question02 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>A lo largo de su vida, ¿consumió alguna vez bebidas alcohólicas (cerveza, vino, licores, destilados, etc.)?</div>", options: ['Si', 'No'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Alcohol_1'}
}
questions_experiment.push(question02);

var question03 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>A lo largo de su vida, ¿consumió alguna vez cannabis (marihuana, costo, hierba, hashish, etc.)?</div>", options: ['Si', 'No'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Cannabis_1'}
}
questions_experiment.push(question03);

var question04 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>A lo largo de su vida, ¿consumió alguna vez cocaína (coca, farlopa, crack, base, etc.)?</div>", options: ['Si', 'No'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Cocaina_1'}
}
questions_experiment.push(question04);

var question05 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>A lo largo de su vida, ¿consumió alguna vez anfetaminas u otro tipo de estimulantes (speed, éxtasis, píldoras adelgazantes, etc.)?</div>", options: ['Si', 'No'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Anfetamina_1'}
}
questions_experiment.push(question05);

var question06 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>A lo largo de su vida, ¿consumió alguna vez inhalantes (colas, gasolina/nafta, pegamento, etc.)?</div>", options: ['Si', 'No'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Inhalantes_1'}
}
questions_experiment.push(question06);

var question07 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>A lo largo de su vida, ¿consumió alguna vez tranquilizantes o pastillas para dormir (valium/diazepam, Trankimazin/Alprazolam/Xanax, Orfidal/Lorazepam, Rohipnol, etc.)?</div>", options: ['Si', 'No'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Tranquilizantes_1'}
}
questions_experiment.push(question07);

var question08 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>A lo largo de su vida, ¿consumió alguna vez alucinógenos (LSD, ácidos, ketamina, PCP, etc.)?</div>", options: ['Si', 'No'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Alucinogenos_1'}
}
questions_experiment.push(question08);

var question09 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>A lo largo de su vida, ¿consumió alguna vez opiáceos (heroína, metadona, codeína, morfina, dolantina/petidina, etc.)?</div>", options: ['Si', 'No'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Opiaceos_1'}
}
questions_experiment.push(question09);

var question10 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>A lo largo de su vida, ¿consumió alguna vez otro tipo de sustancia?</div>", options: ['Si', 'No'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Otros_1'}
}
questions_experiment.push(question10);

var question11 = {
  type: 'survey-text',
  questions: [{prompt: "<div class='justified'>¿Cual es el nombre de este otro tipo de sustancia que consumió?</div>", type: 'text', required: true}], 
  data: {trialid: 'Otros_2'},
  on_finish: function(data) {
      variables['otra_sustancia'] = data.responses.substr(7, data.responses.length - 9);
  }
}

var if_question11 = { 
  timeline:[question11], 
  conditional_function: function (){ 
    var data = jsPsych.data.get().values(); var cont_prev = 0; var cont_next = 0; 
    var restriction_dict = [{"Otros_1": "true"}]; 
    var answer_previous = []
    var answer_next = []
    answer_previous = answer_previous.concat([""]) 
    data.slice().reverse().forEach (function (element) { 
      if (answer_previous[0] !== "false"){
        if (element.trialid === "Otros_1" && restriction_dict[0]["Otros_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[0]["Otros_1"] = "false"}
      }
    })

    for (var i = 0; i < answer_previous.length; i++) 
      if (answer_previous[i] === 'true') 
        cont_prev += 1; 
    for (var j=0; j < answer_next.length; j++) 
      if (answer_next[j] === 'true')
        cont_next += 1; 
    if ((cont_next === 0 && cont_prev !== 0)) return true;
    return false 
  } 
} 

questions_experiment.push(if_question11);

var question12 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>¿Tampoco incluso cuando iba al colegio?</div>", options: ['Si, alguna vez en el colegio.', 'No, nunca.'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Colegio_1'}
}

var if_question12 = { 
  timeline:[question12], 
  conditional_function: function (){ 
    var data = jsPsych.data.get().values(); var cont_prev = 0; var cont_next = 0; 
    var restriction_dict = [{"Tabaco_1": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true"}]; 
    var answer_previous = []
    var answer_next = []
    answer_previous = answer_previous.concat([""]) 
    data.slice().reverse().forEach (function (element) { 
      if (answer_previous[0] !== "false"){
        if (element.trialid === "Tabaco_1" && restriction_dict[0]["Tabaco_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[0]["Tabaco_1"] = "false"}
        if (element.trialid === "Alcohol_1" && restriction_dict[0]["Alcohol_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[0]["Alcohol_1"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[0]["Cannabis_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[0]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[0]["Cocaina_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[0]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[0]["Anfetamina_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[0]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[0]["Inhalantes_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[0]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[0]["Tranquilizantes_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[0]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[0]["Alucinogenos_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[0]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[0]["Opiaceos_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[0]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[0]["Otros_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[0]["Otros_1"] = "false"}
      }
    })
    for (var i = 0; i < answer_previous.length; i++) 
      if (answer_previous[i] === 'true') 
        cont_prev += 1; 
    for (var j=0; j < answer_next.length; j++) 
      if (answer_next[j] === 'true')
        cont_next += 1; 
    if ((cont_next === 0 && cont_prev !== 0)) return true;
    return false 
  } 
} 

questions_experiment.push(if_question12);

var if_repeat_question12 = { 
  timeline:questions_experiment.slice(0,11), 
  conditional_function: function (){ 
    var data = jsPsych.data.get().values(); 
    var restriction_dict = [{"Colegio_1": "true"}]; 
    var answer = [""]; 
    data.slice().reverse().forEach (function (element) { 
      if (answer[0] !== "false"){
        if (element.trialid === "Colegio_1" && restriction_dict[0]["Colegio_1"] === "true"){ answer[0] = (element['responses'] === '{"Q0":"Si, alguna vez en el colegio."}').toString(); restriction_dict[0]["Colegio_1"] = "false"}
      }
    });
    for (var i = 0; i < answer.length; i++) 
      if (answer[i] === 'true') return true; 
    return false 
  } 
} 

questions_experiment.push(if_repeat_question12);

var question13 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>¿Con qué frecuencia ha consumido tabaco (cigarrillos, cigarros habanos, tabaco de mascar, pipa, etc.) en los últimos 3 meses?</div>", options: ['Nunca.', '1 o 2 veces.', 'Cada mes.', 'Cada semana.', 'A diario o casi a diario.'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Tabaco_2'}
}

var if_question13 = { 
  timeline:[question13], 
  conditional_function: function (){ 
    var data = jsPsych.data.get().values(); var cont_prev = 0; var cont_next = 0; 
    var restriction_dict = [{"Tabaco_1": "true"}]; 
    var answer_previous = []
    var answer_next = []
    answer_previous = answer_previous.concat([""]) 
    data.slice().reverse().forEach (function (element) { 
      if (answer_previous[0] !== "false"){
        if (element.trialid === "Tabaco_1" && restriction_dict[0]["Tabaco_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[0]["Tabaco_1"] = "false"}
      }
    })
    for (var i = 0; i < answer_previous.length; i++) 
      if (answer_previous[i] === 'true') 
        cont_prev += 1; 
    for (var j=0; j < answer_next.length; j++) 
      if (answer_next[j] === 'true')
        cont_next += 1; 
    if ((cont_next === 0 && cont_prev !== 0)) return true;
    return false 
  } 
} 

questions_experiment.push(if_question13);

var question14 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>¿Con qué frecuencia ha consumido bebidas alcohólicas (cerveza, vino, licores, destilados, etc.) en los últimos 3 meses?</div>", options: ['Nunca.', '1 o 2 veces.', 'Cada mes.', 'Cada semana.', 'A diario o casi a diario.'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Alcohol_2'}
}

var if_question14 = { 
  timeline:[question14], 
  conditional_function: function (){ 
    var data = jsPsych.data.get().values(); var cont_prev = 0; var cont_next = 0; 
    var restriction_dict = [{"Alcohol_1": "true", "Tabaco_2": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true"}, {"Alcohol_1": "true", "Tabaco_2": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true"}]; 
    var answer_previous = []
    var answer_next = []
    answer_previous = answer_previous.concat([""]) 
    answer_next = answer_next.concat([""]) 
    data.slice().reverse().forEach (function (element) { 
      if (answer_previous[0] !== "false"){
        if (element.trialid === "Alcohol_1" && restriction_dict[0]["Alcohol_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[0]["Alcohol_1"] = "false"}
      }
      if (answer_next[0] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[1]["Tabaco_2"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[1]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_1" && restriction_dict[1]["Alcohol_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alcohol_1"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[1]["Cannabis_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[1]["Cocaina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[1]["Anfetamina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[1]["Inhalantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[1]["Tranquilizantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[1]["Alucinogenos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[1]["Opiaceos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[1]["Otros_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Otros_1"] = "false"}
      }
    })
    for (var i = 0; i < answer_previous.length; i++) 
      if (answer_previous[i] === 'true') 
        cont_prev += 1; 
    for (var j=0; j < answer_next.length; j++) 
      if (answer_next[j] === 'true')
        cont_next += 1; 
    if ((cont_next === 0 && cont_prev !== 0)) return true;
    return false 
  } 
} 

questions_experiment.push(if_question14);

var question15 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>¿Con qué frecuencia ha consumido cannabis (marihuana, costo, hierba, hashish, etc.) en los últimos 3 meses?</div>", options: ['Nunca.', '1 o 2 veces.', 'Cada mes.', 'Cada semana.', 'A diario o casi a diario.'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Cannabis_2'}
}

var if_question15 = { 
  timeline:[question15], 
  conditional_function: function (){ 
    var data = jsPsych.data.get().values(); var cont_prev = 0; var cont_next = 0; 
    var restriction_dict = [{"Cannabis_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true"}, {"Cannabis_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true"}, {"Cannabis_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true"}]; 
    var answer_previous = []
    var answer_next = []
    answer_previous = answer_previous.concat([""]) 
    answer_next = answer_next.concat(["",""]) 
    data.slice().reverse().forEach (function (element) { 
      if (answer_previous[0] !== "false"){
        if (element.trialid === "Cannabis_1" && restriction_dict[0]["Cannabis_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[0]["Cannabis_1"] = "false"}
      }
      if (answer_next[0] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[1]["Tabaco_2"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[1]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_1" && restriction_dict[1]["Alcohol_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alcohol_1"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[1]["Cannabis_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[1]["Cocaina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[1]["Anfetamina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[1]["Inhalantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[1]["Tranquilizantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[1]["Alucinogenos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[1]["Opiaceos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[1]["Otros_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Otros_1"] = "false"}
      }
      if (answer_next[1] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[2]["Tabaco_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[2]["Alcohol_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[2]["Cannabis_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[2]["Cocaina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[2]["Anfetamina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[2]["Inhalantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[2]["Tranquilizantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[2]["Alucinogenos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[2]["Opiaceos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[2]["Otros_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Otros_1"] = "false"}
      }
    })
    for (var i = 0; i < answer_previous.length; i++) 
      if (answer_previous[i] === 'true') 
        cont_prev += 1; 
    for (var j=0; j < answer_next.length; j++) 
      if (answer_next[j] === 'true')
        cont_next += 1; 
    if ((cont_next === 0 && cont_prev !== 0)) return true;
    return false 
  } 
} 

questions_experiment.push(if_question15);

var question16 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>¿Con qué frecuencia ha consumido cocaína (coca, farlopa, crack, base, etc.) en los últimos 3 meses?</div>", options: ['Nunca.', '1 o 2 veces.', 'Cada mes.', 'Cada semana.', 'A diario o casi a diario.'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Cocaina_2'}
}

var if_question16 = { 
  timeline:[question16], 
  conditional_function: function (){ 
    var data = jsPsych.data.get().values(); var cont_prev = 0; var cont_next = 0; 
    var restriction_dict = [{"Cocaina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true"}, {"Cocaina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true"}, {"Cocaina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true"}, {"Cocaina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true"}]; 
    var answer_previous = []
    var answer_next = []
    answer_previous = answer_previous.concat([""]) 
    answer_next = answer_next.concat(["","",""]) 
    data.slice().reverse().forEach (function (element) { 
      if (answer_previous[0] !== "false"){
        if (element.trialid === "Cocaina_1" && restriction_dict[0]["Cocaina_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[0]["Cocaina_1"] = "false"}
      }
      if (answer_next[0] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[1]["Tabaco_2"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[1]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_1" && restriction_dict[1]["Alcohol_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alcohol_1"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[1]["Cannabis_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[1]["Cocaina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[1]["Anfetamina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[1]["Inhalantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[1]["Tranquilizantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[1]["Alucinogenos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[1]["Opiaceos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[1]["Otros_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Otros_1"] = "false"}
      }
      if (answer_next[1] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[2]["Tabaco_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[2]["Alcohol_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[2]["Cannabis_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[2]["Cocaina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[2]["Anfetamina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[2]["Inhalantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[2]["Tranquilizantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[2]["Alucinogenos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[2]["Opiaceos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[2]["Otros_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Otros_1"] = "false"}
      }
      if (answer_next[2] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[3]["Tabaco_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[3]["Alcohol_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[3]["Cannabis_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[3]["Cocaina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[3]["Anfetamina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[3]["Inhalantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[3]["Tranquilizantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[3]["Alucinogenos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[3]["Opiaceos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[3]["Otros_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Otros_1"] = "false"}
      }
    })
    for (var i = 0; i < answer_previous.length; i++) 
      if (answer_previous[i] === 'true') 
        cont_prev += 1; 
    for (var j=0; j < answer_next.length; j++) 
      if (answer_next[j] === 'true')
        cont_next += 1; 
    if ((cont_next === 0 && cont_prev !== 0)) return true;
    return false 
  } 
} 

questions_experiment.push(if_question16);

var question17 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>¿Con qué frecuencia ha consumido anfetaminas u otro tipo de estimulantes (speed, éxtasis, píldoras adelgazantes, etc.) en los últimos 3 meses?</div>", options: ['Nunca.', '1 o 2 veces.', 'Cada mes.', 'Cada semana.', 'A diario o casi a diario.'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Anfetamina_2'}
}

var if_question17 = { 
  timeline:[question17], 
  conditional_function: function (){ 
    var data = jsPsych.data.get().values(); var cont_prev = 0; var cont_next = 0; 
    var restriction_dict = [{"Anfetamina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true"}, {"Anfetamina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true"}, {"Anfetamina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true"}, {"Anfetamina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true"}, {"Anfetamina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true"}]; 
    var answer_previous = []
    var answer_next = []
    answer_previous = answer_previous.concat([""]) 
    answer_next = answer_next.concat(["","","",""]) 
    data.slice().reverse().forEach (function (element) { 
      if (answer_previous[0] !== "false"){
        if (element.trialid === "Anfetamina_1" && restriction_dict[0]["Anfetamina_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[0]["Anfetamina_1"] = "false"}
      }
      if (answer_next[0] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[1]["Tabaco_2"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[1]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_1" && restriction_dict[1]["Alcohol_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alcohol_1"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[1]["Cannabis_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[1]["Cocaina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[1]["Anfetamina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[1]["Inhalantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[1]["Tranquilizantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[1]["Alucinogenos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[1]["Opiaceos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[1]["Otros_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Otros_1"] = "false"}
      }
      if (answer_next[1] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[2]["Tabaco_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[2]["Alcohol_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[2]["Cannabis_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[2]["Cocaina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[2]["Anfetamina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[2]["Inhalantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[2]["Tranquilizantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[2]["Alucinogenos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[2]["Opiaceos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[2]["Otros_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Otros_1"] = "false"}
      }
      if (answer_next[2] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[3]["Tabaco_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[3]["Alcohol_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[3]["Cannabis_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[3]["Cocaina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[3]["Anfetamina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[3]["Inhalantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[3]["Tranquilizantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[3]["Alucinogenos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[3]["Opiaceos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[3]["Otros_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Otros_1"] = "false"}
      }
      if (answer_next[3] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[4]["Tabaco_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[4]["Alcohol_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[4]["Cannabis_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[4]["Cocaina_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[4]["Anfetamina_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[4]["Inhalantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[4]["Tranquilizantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[4]["Alucinogenos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[4]["Opiaceos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[4]["Otros_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Otros_1"] = "false"}
      }
    })
    for (var i = 0; i < answer_previous.length; i++) 
      if (answer_previous[i] === 'true') 
        cont_prev += 1; 
    for (var j=0; j < answer_next.length; j++) 
      if (answer_next[j] === 'true')
        cont_next += 1; 
    if ((cont_next === 0 && cont_prev !== 0)) return true;
    return false 
  } 
} 

questions_experiment.push(if_question17);

var question18 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>¿Con qué frecuencia ha consumido inhalantes (colas, gasolina/nafta, pegamento, etc.) en los últimos 3 meses?</div>", options: ['Nunca.', '1 o 2 veces.', 'Cada mes.', 'Cada semana.', 'A diario o casi a diario.'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Inhalantes_2'}
}

var if_question18 = { 
  timeline:[question18], 
  conditional_function: function (){ 
    var data = jsPsych.data.get().values(); var cont_prev = 0; var cont_next = 0; 
    var restriction_dict = [{"Inhalantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true"}, {"Inhalantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true"}, {"Inhalantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true"}, {"Inhalantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true"}, {"Inhalantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true"}, {"Inhalantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true"}]; 
    var answer_previous = []
    var answer_next = []
    answer_previous = answer_previous.concat([""]) 
    answer_next = answer_next.concat(["","","","",""]) 
    data.slice().reverse().forEach (function (element) { 
      if (answer_previous[0] !== "false"){
        if (element.trialid === "Inhalantes_1" && restriction_dict[0]["Inhalantes_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[0]["Inhalantes_1"] = "false"}
      }
      if (answer_next[0] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[1]["Tabaco_2"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[1]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_1" && restriction_dict[1]["Alcohol_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alcohol_1"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[1]["Cannabis_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[1]["Cocaina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[1]["Anfetamina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[1]["Inhalantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[1]["Tranquilizantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[1]["Alucinogenos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[1]["Opiaceos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[1]["Otros_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Otros_1"] = "false"}
      }
      if (answer_next[1] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[2]["Tabaco_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[2]["Alcohol_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[2]["Cannabis_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[2]["Cocaina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[2]["Anfetamina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[2]["Inhalantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[2]["Tranquilizantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[2]["Alucinogenos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[2]["Opiaceos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[2]["Otros_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Otros_1"] = "false"}
      }
      if (answer_next[2] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[3]["Tabaco_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[3]["Alcohol_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[3]["Cannabis_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[3]["Cocaina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[3]["Anfetamina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[3]["Inhalantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[3]["Tranquilizantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[3]["Alucinogenos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[3]["Opiaceos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[3]["Otros_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Otros_1"] = "false"}
      }
      if (answer_next[3] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[4]["Tabaco_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[4]["Alcohol_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[4]["Cannabis_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[4]["Cocaina_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[4]["Anfetamina_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[4]["Inhalantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[4]["Tranquilizantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[4]["Alucinogenos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[4]["Opiaceos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[4]["Otros_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Otros_1"] = "false"}
      }
      if (answer_next[4] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[5]["Tabaco_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[5]["Alcohol_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[5]["Cannabis_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[5]["Cocaina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[5]["Anfetamina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[5]["Inhalantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[5]["Tranquilizantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[5]["Alucinogenos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[5]["Opiaceos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[5]["Otros_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Otros_1"] = "false"}
      }
    })
    for (var i = 0; i < answer_previous.length; i++) 
      if (answer_previous[i] === 'true') 
        cont_prev += 1; 
    for (var j=0; j < answer_next.length; j++) 
      if (answer_next[j] === 'true')
        cont_next += 1; 
    if ((cont_next === 0 && cont_prev !== 0)) return true;
    return false 
  } 
} 

questions_experiment.push(if_question18);

var question19 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>¿Con qué frecuencia ha consumido tranquilizantes o pastillas para dormir (valium/diazepam, Trankimazin/Alprazolam/Xanax, Orfidal/Lorazepam, Rohipnol, etc.) en los últimos 3 meses?</div>", options: ['Nunca.', '1 o 2 veces.', 'Cada mes.', 'Cada semana.', 'A diario o casi a diario.'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Tranquilizantes_2'}
}

var if_question19 = { 
  timeline:[question19], 
  conditional_function: function (){ 
    var data = jsPsych.data.get().values(); var cont_prev = 0; var cont_next = 0; 
    var restriction_dict = [{"Tranquilizantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true"}, {"Tranquilizantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true"}, {"Tranquilizantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true"}, {"Tranquilizantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true"}, {"Tranquilizantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true"}, {"Tranquilizantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true"}, {"Tranquilizantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true"}]; 
    var answer_previous = []
    var answer_next = []
    answer_previous = answer_previous.concat([""]) 
    answer_next = answer_next.concat(["","","","","",""]) 
    data.slice().reverse().forEach (function (element) { 
      if (answer_previous[0] !== "false"){
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[0]["Tranquilizantes_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[0]["Tranquilizantes_1"] = "false"}
      }
      if (answer_next[0] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[1]["Tabaco_2"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[1]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_1" && restriction_dict[1]["Alcohol_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alcohol_1"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[1]["Cannabis_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[1]["Cocaina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[1]["Anfetamina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[1]["Inhalantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[1]["Tranquilizantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[1]["Alucinogenos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[1]["Opiaceos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[1]["Otros_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Otros_1"] = "false"}
      }
      if (answer_next[1] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[2]["Tabaco_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[2]["Alcohol_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[2]["Cannabis_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[2]["Cocaina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[2]["Anfetamina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[2]["Inhalantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[2]["Tranquilizantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[2]["Alucinogenos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[2]["Opiaceos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[2]["Otros_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Otros_1"] = "false"}
      }
      if (answer_next[2] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[3]["Tabaco_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[3]["Alcohol_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[3]["Cannabis_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[3]["Cocaina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[3]["Anfetamina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[3]["Inhalantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[3]["Tranquilizantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[3]["Alucinogenos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[3]["Opiaceos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[3]["Otros_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Otros_1"] = "false"}
      }
      if (answer_next[3] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[4]["Tabaco_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[4]["Alcohol_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[4]["Cannabis_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[4]["Cocaina_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[4]["Anfetamina_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[4]["Inhalantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[4]["Tranquilizantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[4]["Alucinogenos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[4]["Opiaceos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[4]["Otros_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Otros_1"] = "false"}
      }
      if (answer_next[4] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[5]["Tabaco_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[5]["Alcohol_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[5]["Cannabis_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[5]["Cocaina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[5]["Anfetamina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[5]["Inhalantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[5]["Tranquilizantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[5]["Alucinogenos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[5]["Opiaceos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[5]["Otros_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Otros_1"] = "false"}
      }
      if (answer_next[5] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[6]["Tabaco_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[6]["Alcohol_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[6]["Cannabis_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[6]["Cocaina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[6]["Anfetamina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[6]["Inhalantes_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[6]["Tranquilizantes_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[6]["Alucinogenos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[6]["Opiaceos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[6]["Otros_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Otros_1"] = "false"}
      }
    })
    for (var i = 0; i < answer_previous.length; i++) 
      if (answer_previous[i] === 'true') 
        cont_prev += 1; 
    for (var j=0; j < answer_next.length; j++) 
      if (answer_next[j] === 'true')
        cont_next += 1; 
    if ((cont_next === 0 && cont_prev !== 0)) return true;
    return false 
  } 
} 

questions_experiment.push(if_question19);

var question20 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>¿Con qué frecuencia ha consumido alucinógenos (LSD, ácidos, ketamina, PCP, etc.) en los últimos 3 meses?</div>", options: ['Nunca.', '1 o 2 veces.', 'Cada mes.', 'Cada semana.', 'A diario o casi a diario.'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Alucinogenos_2'}
}

var if_question20 = { 
  timeline:[question20], 
  conditional_function: function (){ 
    var data = jsPsych.data.get().values(); var cont_prev = 0; var cont_next = 0; 
    var restriction_dict = [{"Alucinogenos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true"}, {"Alucinogenos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true"}, {"Alucinogenos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true"}, {"Alucinogenos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true"}, {"Alucinogenos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true"}, {"Alucinogenos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true"}, {"Alucinogenos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true"}, {"Alucinogenos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true"}]; 
    var answer_previous = []
    var answer_next = []
    answer_previous = answer_previous.concat([""]) 
    answer_next = answer_next.concat(["","","","","","",""]) 
    data.slice().reverse().forEach (function (element) { 
      if (answer_previous[0] !== "false"){
        if (element.trialid === "Alucinogenos_1" && restriction_dict[0]["Alucinogenos_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[0]["Alucinogenos_1"] = "false"}
      }
      if (answer_next[0] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[1]["Tabaco_2"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[1]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_1" && restriction_dict[1]["Alcohol_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alcohol_1"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[1]["Cannabis_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[1]["Cocaina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[1]["Anfetamina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[1]["Inhalantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[1]["Tranquilizantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[1]["Alucinogenos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[1]["Opiaceos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[1]["Otros_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Otros_1"] = "false"}
      }
      if (answer_next[1] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[2]["Tabaco_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[2]["Alcohol_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[2]["Cannabis_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[2]["Cocaina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[2]["Anfetamina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[2]["Inhalantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[2]["Tranquilizantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[2]["Alucinogenos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[2]["Opiaceos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[2]["Otros_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Otros_1"] = "false"}
      }
      if (answer_next[2] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[3]["Tabaco_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[3]["Alcohol_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[3]["Cannabis_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[3]["Cocaina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[3]["Anfetamina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[3]["Inhalantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[3]["Tranquilizantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[3]["Alucinogenos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[3]["Opiaceos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[3]["Otros_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Otros_1"] = "false"}
      }
      if (answer_next[3] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[4]["Tabaco_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[4]["Alcohol_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[4]["Cannabis_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[4]["Cocaina_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[4]["Anfetamina_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[4]["Inhalantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[4]["Tranquilizantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[4]["Alucinogenos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[4]["Opiaceos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[4]["Otros_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Otros_1"] = "false"}
      }
      if (answer_next[4] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[5]["Tabaco_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[5]["Alcohol_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[5]["Cannabis_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[5]["Cocaina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[5]["Anfetamina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[5]["Inhalantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[5]["Tranquilizantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[5]["Alucinogenos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[5]["Opiaceos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[5]["Otros_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Otros_1"] = "false"}
      }
      if (answer_next[5] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[6]["Tabaco_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[6]["Alcohol_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[6]["Cannabis_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[6]["Cocaina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[6]["Anfetamina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[6]["Inhalantes_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[6]["Tranquilizantes_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[6]["Alucinogenos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[6]["Opiaceos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[6]["Otros_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Otros_1"] = "false"}
      }
      if (answer_next[6] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[7]["Tabaco_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[7]["Alcohol_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[7]["Cannabis_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[7]["Cocaina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[7]["Anfetamina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[7]["Inhalantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[7]["Tranquilizantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[7]["Alucinogenos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[7]["Opiaceos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[7]["Otros_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Otros_1"] = "false"}
      }
    })
    for (var i = 0; i < answer_previous.length; i++) 
      if (answer_previous[i] === 'true') 
        cont_prev += 1; 
    for (var j=0; j < answer_next.length; j++) 
      if (answer_next[j] === 'true')
        cont_next += 1; 
    if ((cont_next === 0 && cont_prev !== 0)) return true;
    return false 
  } 
} 

questions_experiment.push(if_question20);

var question21 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>¿Con qué frecuencia ha consumido opiáceos (heroína, metadona, codeína, morfina, dolantina/petidina, etc.) en los últimos 3 meses?</div>", options: ['Nunca.', '1 o 2 veces.', 'Cada mes.', 'Cada semana.', 'A diario o casi a diario.'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Opiaceos_2'}
}

var if_question21 = { 
  timeline:[question21], 
  conditional_function: function (){ 
    var data = jsPsych.data.get().values(); var cont_prev = 0; var cont_next = 0; 
    var restriction_dict = [{"Opiaceos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true"}, {"Opiaceos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true"}, {"Opiaceos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true"}, {"Opiaceos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true"}, {"Opiaceos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true"}, {"Opiaceos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true"}, {"Opiaceos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true"}, {"Opiaceos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true"}, {"Opiaceos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true"}]; 
    var answer_previous = []
    var answer_next = []
    answer_previous = answer_previous.concat([""]) 
    answer_next = answer_next.concat(["","","","","","","",""]) 
    data.slice().reverse().forEach (function (element) { 
      if (answer_previous[0] !== "false"){
        if (element.trialid === "Opiaceos_1" && restriction_dict[0]["Opiaceos_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[0]["Opiaceos_1"] = "false"}
      }
      if (answer_next[0] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[1]["Tabaco_2"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[1]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_1" && restriction_dict[1]["Alcohol_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alcohol_1"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[1]["Cannabis_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[1]["Cocaina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[1]["Anfetamina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[1]["Inhalantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[1]["Tranquilizantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[1]["Alucinogenos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[1]["Opiaceos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[1]["Otros_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Otros_1"] = "false"}
      }
      if (answer_next[1] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[2]["Tabaco_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[2]["Alcohol_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[2]["Cannabis_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[2]["Cocaina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[2]["Anfetamina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[2]["Inhalantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[2]["Tranquilizantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[2]["Alucinogenos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[2]["Opiaceos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[2]["Otros_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Otros_1"] = "false"}
      }
      if (answer_next[2] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[3]["Tabaco_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[3]["Alcohol_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[3]["Cannabis_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[3]["Cocaina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[3]["Anfetamina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[3]["Inhalantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[3]["Tranquilizantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[3]["Alucinogenos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[3]["Opiaceos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[3]["Otros_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Otros_1"] = "false"}
      }
      if (answer_next[3] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[4]["Tabaco_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[4]["Alcohol_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[4]["Cannabis_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[4]["Cocaina_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[4]["Anfetamina_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[4]["Inhalantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[4]["Tranquilizantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[4]["Alucinogenos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[4]["Opiaceos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[4]["Otros_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Otros_1"] = "false"}
      }
      if (answer_next[4] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[5]["Tabaco_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[5]["Alcohol_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[5]["Cannabis_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[5]["Cocaina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[5]["Anfetamina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[5]["Inhalantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[5]["Tranquilizantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[5]["Alucinogenos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[5]["Opiaceos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[5]["Otros_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Otros_1"] = "false"}
      }
      if (answer_next[5] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[6]["Tabaco_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[6]["Alcohol_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[6]["Cannabis_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[6]["Cocaina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[6]["Anfetamina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[6]["Inhalantes_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[6]["Tranquilizantes_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[6]["Alucinogenos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[6]["Opiaceos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[6]["Otros_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Otros_1"] = "false"}
      }
      if (answer_next[6] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[7]["Tabaco_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[7]["Alcohol_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[7]["Cannabis_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[7]["Cocaina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[7]["Anfetamina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[7]["Inhalantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[7]["Tranquilizantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[7]["Alucinogenos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[7]["Opiaceos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[7]["Otros_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Otros_1"] = "false"}
      }
      if (answer_next[7] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[8]["Tabaco_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[8]["Alcohol_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[8]["Cannabis_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[8]["Cocaina_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[8]["Anfetamina_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[8]["Inhalantes_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[8]["Tranquilizantes_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[8]["Alucinogenos_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[8]["Opiaceos_1"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[8]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[8]["Otros_1"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[8]["Otros_1"] = "false"}
      }
    })
    for (var i = 0; i < answer_previous.length; i++) 
      if (answer_previous[i] === 'true') 
        cont_prev += 1; 
    for (var j=0; j < answer_next.length; j++) 
      if (answer_next[j] === 'true')
        cont_next += 1; 
    if ((cont_next === 0 && cont_prev !== 0)) return true;
    return false 
  } 
} 

questions_experiment.push(if_question21);

var question22 = {
  type:'survey-multi-choice',
  questions:[{prompt: '',options: ['']}],
  on_start: function(trial) {
    trial.questions = [{prompt: "<div class='justified'>¿Con qué frecuencia ha consumido "+variables["otra_sustancia"]+" en los últimos 3 meses?</div>", options: ['Nunca.', '1 o 2 veces.', 'Cada mes.', 'Cada semana.', 'A diario o casi a diario.'], required: true, horizontal: false, not_enabled_options: 0}];
  },
  data: {trialid: 'Otros_3'}
}

var if_question22 = { 
  timeline:[question22], 
  conditional_function: function (){ 
    var data = jsPsych.data.get().values(); var cont_prev = 0; var cont_next = 0; 
    var restriction_dict = [{"Otros_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true"}, {"Otros_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true"}, {"Otros_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true"}, {"Otros_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true"}, {"Otros_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true"}, {"Otros_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true"}, {"Otros_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true"}, {"Otros_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true"}, {"Otros_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true"}, {"Otros_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true"}]; 
    var answer_previous = []
    var answer_next = []
    answer_previous = answer_previous.concat([""]) 
    answer_next = answer_next.concat(["","","","","","","","",""]) 
    data.slice().reverse().forEach (function (element) { 
      if (answer_previous[0] !== "false"){
        if (element.trialid === "Otros_1" && restriction_dict[0]["Otros_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[0]["Otros_1"] = "false"}
      }
      if (answer_next[0] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[1]["Tabaco_2"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[1]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_1" && restriction_dict[1]["Alcohol_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alcohol_1"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[1]["Cannabis_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[1]["Cocaina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[1]["Anfetamina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[1]["Inhalantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[1]["Tranquilizantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[1]["Alucinogenos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[1]["Opiaceos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[1]["Otros_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Otros_1"] = "false"}
      }
      if (answer_next[1] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[2]["Tabaco_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[2]["Alcohol_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[2]["Cannabis_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[2]["Cocaina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[2]["Anfetamina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[2]["Inhalantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[2]["Tranquilizantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[2]["Alucinogenos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[2]["Opiaceos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[2]["Otros_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Otros_1"] = "false"}
      }
      if (answer_next[2] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[3]["Tabaco_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[3]["Alcohol_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[3]["Cannabis_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[3]["Cocaina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[3]["Anfetamina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[3]["Inhalantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[3]["Tranquilizantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[3]["Alucinogenos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[3]["Opiaceos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[3]["Otros_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Otros_1"] = "false"}
      }
      if (answer_next[3] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[4]["Tabaco_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[4]["Alcohol_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[4]["Cannabis_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[4]["Cocaina_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[4]["Anfetamina_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[4]["Inhalantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[4]["Tranquilizantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[4]["Alucinogenos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[4]["Opiaceos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[4]["Otros_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Otros_1"] = "false"}
      }
      if (answer_next[4] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[5]["Tabaco_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[5]["Alcohol_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[5]["Cannabis_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[5]["Cocaina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[5]["Anfetamina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[5]["Inhalantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[5]["Tranquilizantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[5]["Alucinogenos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[5]["Opiaceos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[5]["Otros_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Otros_1"] = "false"}
      }
      if (answer_next[5] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[6]["Tabaco_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[6]["Alcohol_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[6]["Cannabis_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[6]["Cocaina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[6]["Anfetamina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[6]["Inhalantes_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[6]["Tranquilizantes_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[6]["Alucinogenos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[6]["Opiaceos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[6]["Otros_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Otros_1"] = "false"}
      }
      if (answer_next[6] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[7]["Tabaco_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[7]["Alcohol_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[7]["Cannabis_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[7]["Cocaina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[7]["Anfetamina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[7]["Inhalantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[7]["Tranquilizantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[7]["Alucinogenos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[7]["Opiaceos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[7]["Otros_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Otros_1"] = "false"}
      }
      if (answer_next[7] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[8]["Tabaco_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[8]["Alcohol_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[8]["Cannabis_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[8]["Cocaina_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[8]["Anfetamina_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[8]["Inhalantes_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[8]["Tranquilizantes_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[8]["Alucinogenos_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[8]["Opiaceos_1"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[8]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[8]["Otros_1"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[8]["Otros_1"] = "false"}
      }
      if (answer_next[8] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[9]["Tabaco_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[9]["Alcohol_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[9]["Cannabis_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[9]["Cocaina_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[9]["Anfetamina_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[9]["Inhalantes_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[9]["Tranquilizantes_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[9]["Alucinogenos_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_2" && restriction_dict[9]["Opiaceos_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Opiaceos_2"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[9]["Otros_1"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[9]["Otros_1"] = "false"}
      }
    })
    variable:otra_sustancia = variables['variable:otra_sustancia']; 
    for (var i = 0; i < answer_previous.length; i++) 
      if (answer_previous[i] === 'true') 
        cont_prev += 1; 
    for (var j=0; j < answer_next.length; j++) 
      if (answer_next[j] === 'true')
        cont_next += 1; 
    if ((cont_next === 0 && cont_prev !== 0)) return true;
    return false 
  } 
} 

questions_experiment.push(if_question22);

var question23 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>En los últimos tres meses, ¿con qué frecuencia ha tenido deseos fuertes o ansias de consumir tabaco (cigarrillos, cigarros habanos, tabaco de mascar, pipa, etc.)?</div>", options: ['Nunca.', '1 o 2 veces.', 'Cada mes.', 'Cada semana.', 'A diario o casi a diario.'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Tabaco_3'}
}

var if_question23 = { 
  timeline:[question23], 
  conditional_function: function (){ 
    var data = jsPsych.data.get().values(); var cont_prev = 0; var cont_next = 0; 
    var restriction_dict = [{"Tabaco_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Tabaco_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Tabaco_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Tabaco_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Tabaco_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Tabaco_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Tabaco_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Tabaco_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Tabaco_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Tabaco_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Tabaco_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}]; 
    var answer_previous = []
    var answer_next = []
    answer_previous = answer_previous.concat([""]) 
    answer_next = answer_next.concat(["","","","","","","","","",""]) 
    data.slice().reverse().forEach (function (element) { 
      if (answer_previous[0] !== "false"){
        if (element.trialid === "Tabaco_1" && restriction_dict[0]["Tabaco_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[0]["Tabaco_1"] = "false"}
      }
      if (answer_next[0] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[1]["Tabaco_2"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[1]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_1" && restriction_dict[1]["Alcohol_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alcohol_1"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[1]["Cannabis_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[1]["Cocaina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[1]["Anfetamina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[1]["Inhalantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[1]["Tranquilizantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[1]["Alucinogenos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[1]["Opiaceos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[1]["Otros_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Otros_1"] = "false"}
      }
      if (answer_next[1] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[2]["Tabaco_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[2]["Alcohol_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[2]["Cannabis_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[2]["Cocaina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[2]["Anfetamina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[2]["Inhalantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[2]["Tranquilizantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[2]["Alucinogenos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[2]["Opiaceos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[2]["Otros_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Otros_1"] = "false"}
      }
      if (answer_next[2] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[3]["Tabaco_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[3]["Alcohol_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[3]["Cannabis_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[3]["Cocaina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[3]["Anfetamina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[3]["Inhalantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[3]["Tranquilizantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[3]["Alucinogenos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[3]["Opiaceos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[3]["Otros_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Otros_1"] = "false"}
      }
      if (answer_next[3] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[4]["Tabaco_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[4]["Alcohol_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[4]["Cannabis_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[4]["Cocaina_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[4]["Anfetamina_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[4]["Inhalantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[4]["Tranquilizantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[4]["Alucinogenos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[4]["Opiaceos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[4]["Otros_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Otros_1"] = "false"}
      }
      if (answer_next[4] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[5]["Tabaco_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[5]["Alcohol_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[5]["Cannabis_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[5]["Cocaina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[5]["Anfetamina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[5]["Inhalantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[5]["Tranquilizantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[5]["Alucinogenos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[5]["Opiaceos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[5]["Otros_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Otros_1"] = "false"}
      }
      if (answer_next[5] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[6]["Tabaco_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[6]["Alcohol_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[6]["Cannabis_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[6]["Cocaina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[6]["Anfetamina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[6]["Inhalantes_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[6]["Tranquilizantes_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[6]["Alucinogenos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[6]["Opiaceos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[6]["Otros_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Otros_1"] = "false"}
      }
      if (answer_next[6] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[7]["Tabaco_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[7]["Alcohol_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[7]["Cannabis_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[7]["Cocaina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[7]["Anfetamina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[7]["Inhalantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[7]["Tranquilizantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[7]["Alucinogenos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[7]["Opiaceos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[7]["Otros_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Otros_1"] = "false"}
      }
      if (answer_next[7] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[8]["Tabaco_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[8]["Alcohol_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[8]["Cannabis_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[8]["Cocaina_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[8]["Anfetamina_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[8]["Inhalantes_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[8]["Tranquilizantes_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[8]["Alucinogenos_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[8]["Opiaceos_1"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[8]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[8]["Otros_1"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[8]["Otros_1"] = "false"}
      }
      if (answer_next[8] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[9]["Tabaco_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[9]["Alcohol_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[9]["Cannabis_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[9]["Cocaina_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[9]["Anfetamina_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[9]["Inhalantes_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[9]["Tranquilizantes_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[9]["Alucinogenos_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_2" && restriction_dict[9]["Opiaceos_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Opiaceos_2"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[9]["Otros_1"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[9]["Otros_1"] = "false"}
      }
      if (answer_next[9] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[10]["Tabaco_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[10]["Alcohol_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[10]["Cannabis_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[10]["Cocaina_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[10]["Anfetamina_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[10]["Inhalantes_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[10]["Tranquilizantes_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[10]["Alucinogenos_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_2" && restriction_dict[10]["Opiaceos_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Opiaceos_2"] = "false"}
        if (element.trialid === "Otros_3" && restriction_dict[10]["Otros_3"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Otros_3"] = "false"}
      }
    })
    for (var i = 0; i < answer_previous.length; i++) 
      if (answer_previous[i] === 'true') 
        cont_prev += 1; 
    for (var j=0; j < answer_next.length; j++) 
      if (answer_next[j] === 'true')
        cont_next += 1; 
    if ((cont_next === 0 && cont_prev !== 0)) return true;
    return false 
  } 
} 

questions_experiment.push(if_question23);

var question24 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>En los últimos tres meses, ¿con qué frecuencia ha tenido deseos fuertes o ansias de consumir bebidas alcohólicas (cerveza, vino, licores, destilados, etc.)?</div>", options: ['Nunca.', '1 o 2 veces.', 'Cada mes.', 'Cada semana.', 'A diario o casi a diario.'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Alcohol_3'}
}

var if_question24 = { 
  timeline:[question24], 
  conditional_function: function (){ 
    var data = jsPsych.data.get().values(); var cont_prev = 0; var cont_next = 0; 
    var restriction_dict = [{"Alcohol_1": "true", "Tabaco_2": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Alcohol_1": "true", "Tabaco_2": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Alcohol_1": "true", "Tabaco_2": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Alcohol_1": "true", "Tabaco_2": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Alcohol_1": "true", "Tabaco_2": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Alcohol_1": "true", "Tabaco_2": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Alcohol_1": "true", "Tabaco_2": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Alcohol_1": "true", "Tabaco_2": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Alcohol_1": "true", "Tabaco_2": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Alcohol_1": "true", "Tabaco_2": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Alcohol_1": "true", "Tabaco_2": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}]; 
    var answer_previous = []
    var answer_next = []
    answer_previous = answer_previous.concat([""]) 
    answer_next = answer_next.concat(["","","","","","","","","",""]) 
    data.slice().reverse().forEach (function (element) { 
      if (answer_previous[0] !== "false"){
        if (element.trialid === "Alcohol_1" && restriction_dict[0]["Alcohol_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[0]["Alcohol_1"] = "false"}
      }
      if (answer_next[0] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[1]["Tabaco_2"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[1]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_1" && restriction_dict[1]["Alcohol_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alcohol_1"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[1]["Cannabis_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[1]["Cocaina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[1]["Anfetamina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[1]["Inhalantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[1]["Tranquilizantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[1]["Alucinogenos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[1]["Opiaceos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[1]["Otros_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Otros_1"] = "false"}
      }
      if (answer_next[1] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[2]["Tabaco_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[2]["Alcohol_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[2]["Cannabis_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[2]["Cocaina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[2]["Anfetamina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[2]["Inhalantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[2]["Tranquilizantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[2]["Alucinogenos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[2]["Opiaceos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[2]["Otros_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Otros_1"] = "false"}
      }
      if (answer_next[2] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[3]["Tabaco_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[3]["Alcohol_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[3]["Cannabis_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[3]["Cocaina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[3]["Anfetamina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[3]["Inhalantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[3]["Tranquilizantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[3]["Alucinogenos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[3]["Opiaceos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[3]["Otros_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Otros_1"] = "false"}
      }
      if (answer_next[3] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[4]["Tabaco_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[4]["Alcohol_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[4]["Cannabis_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[4]["Cocaina_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[4]["Anfetamina_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[4]["Inhalantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[4]["Tranquilizantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[4]["Alucinogenos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[4]["Opiaceos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[4]["Otros_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Otros_1"] = "false"}
      }
      if (answer_next[4] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[5]["Tabaco_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[5]["Alcohol_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[5]["Cannabis_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[5]["Cocaina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[5]["Anfetamina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[5]["Inhalantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[5]["Tranquilizantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[5]["Alucinogenos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[5]["Opiaceos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[5]["Otros_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Otros_1"] = "false"}
      }
      if (answer_next[5] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[6]["Tabaco_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[6]["Alcohol_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[6]["Cannabis_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[6]["Cocaina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[6]["Anfetamina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[6]["Inhalantes_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[6]["Tranquilizantes_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[6]["Alucinogenos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[6]["Opiaceos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[6]["Otros_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Otros_1"] = "false"}
      }
      if (answer_next[6] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[7]["Tabaco_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[7]["Alcohol_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[7]["Cannabis_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[7]["Cocaina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[7]["Anfetamina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[7]["Inhalantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[7]["Tranquilizantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[7]["Alucinogenos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[7]["Opiaceos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[7]["Otros_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Otros_1"] = "false"}
      }
      if (answer_next[7] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[8]["Tabaco_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[8]["Alcohol_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[8]["Cannabis_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[8]["Cocaina_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[8]["Anfetamina_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[8]["Inhalantes_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[8]["Tranquilizantes_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[8]["Alucinogenos_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[8]["Opiaceos_1"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[8]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[8]["Otros_1"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[8]["Otros_1"] = "false"}
      }
      if (answer_next[8] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[9]["Tabaco_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[9]["Alcohol_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[9]["Cannabis_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[9]["Cocaina_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[9]["Anfetamina_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[9]["Inhalantes_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[9]["Tranquilizantes_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[9]["Alucinogenos_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_2" && restriction_dict[9]["Opiaceos_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Opiaceos_2"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[9]["Otros_1"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[9]["Otros_1"] = "false"}
      }
      if (answer_next[9] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[10]["Tabaco_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[10]["Alcohol_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[10]["Cannabis_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[10]["Cocaina_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[10]["Anfetamina_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[10]["Inhalantes_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[10]["Tranquilizantes_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[10]["Alucinogenos_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_2" && restriction_dict[10]["Opiaceos_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Opiaceos_2"] = "false"}
        if (element.trialid === "Otros_3" && restriction_dict[10]["Otros_3"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Otros_3"] = "false"}
      }
    })
    for (var i = 0; i < answer_previous.length; i++) 
      if (answer_previous[i] === 'true') 
        cont_prev += 1; 
    for (var j=0; j < answer_next.length; j++) 
      if (answer_next[j] === 'true')
        cont_next += 1; 
    if ((cont_next === 0 && cont_prev !== 0)) return true;
    return false 
  } 
} 

questions_experiment.push(if_question24);

var question25 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>En los últimos tres meses, ¿con qué frecuencia ha tenido deseos fuertes o ansias de consumir cannabis (marihuana, costo, hierba, hashish, etc.)?</div>", options: ['Nunca.', '1 o 2 veces.', 'Cada mes.', 'Cada semana.', 'A diario o casi a diario.'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Cannabis_3'}
}

var if_question25 = { 
  timeline:[question25], 
  conditional_function: function (){ 
    var data = jsPsych.data.get().values(); var cont_prev = 0; var cont_next = 0; 
    var restriction_dict = [{"Cannabis_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Cannabis_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Cannabis_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Cannabis_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Cannabis_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Cannabis_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Cannabis_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Cannabis_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Cannabis_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Cannabis_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Cannabis_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}]; 
    var answer_previous = []
    var answer_next = []
    answer_previous = answer_previous.concat([""]) 
    answer_next = answer_next.concat(["","","","","","","","","",""]) 
    data.slice().reverse().forEach (function (element) { 
      if (answer_previous[0] !== "false"){
        if (element.trialid === "Cannabis_1" && restriction_dict[0]["Cannabis_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[0]["Cannabis_1"] = "false"}
      }
      if (answer_next[0] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[1]["Tabaco_2"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[1]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_1" && restriction_dict[1]["Alcohol_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alcohol_1"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[1]["Cannabis_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[1]["Cocaina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[1]["Anfetamina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[1]["Inhalantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[1]["Tranquilizantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[1]["Alucinogenos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[1]["Opiaceos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[1]["Otros_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Otros_1"] = "false"}
      }
      if (answer_next[1] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[2]["Tabaco_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[2]["Alcohol_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[2]["Cannabis_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[2]["Cocaina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[2]["Anfetamina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[2]["Inhalantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[2]["Tranquilizantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[2]["Alucinogenos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[2]["Opiaceos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[2]["Otros_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Otros_1"] = "false"}
      }
      if (answer_next[2] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[3]["Tabaco_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[3]["Alcohol_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[3]["Cannabis_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[3]["Cocaina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[3]["Anfetamina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[3]["Inhalantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[3]["Tranquilizantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[3]["Alucinogenos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[3]["Opiaceos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[3]["Otros_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Otros_1"] = "false"}
      }
      if (answer_next[3] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[4]["Tabaco_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[4]["Alcohol_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[4]["Cannabis_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[4]["Cocaina_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[4]["Anfetamina_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[4]["Inhalantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[4]["Tranquilizantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[4]["Alucinogenos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[4]["Opiaceos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[4]["Otros_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Otros_1"] = "false"}
      }
      if (answer_next[4] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[5]["Tabaco_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[5]["Alcohol_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[5]["Cannabis_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[5]["Cocaina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[5]["Anfetamina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[5]["Inhalantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[5]["Tranquilizantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[5]["Alucinogenos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[5]["Opiaceos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[5]["Otros_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Otros_1"] = "false"}
      }
      if (answer_next[5] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[6]["Tabaco_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[6]["Alcohol_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[6]["Cannabis_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[6]["Cocaina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[6]["Anfetamina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[6]["Inhalantes_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[6]["Tranquilizantes_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[6]["Alucinogenos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[6]["Opiaceos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[6]["Otros_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Otros_1"] = "false"}
      }
      if (answer_next[6] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[7]["Tabaco_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[7]["Alcohol_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[7]["Cannabis_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[7]["Cocaina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[7]["Anfetamina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[7]["Inhalantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[7]["Tranquilizantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[7]["Alucinogenos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[7]["Opiaceos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[7]["Otros_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Otros_1"] = "false"}
      }
      if (answer_next[7] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[8]["Tabaco_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[8]["Alcohol_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[8]["Cannabis_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[8]["Cocaina_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[8]["Anfetamina_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[8]["Inhalantes_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[8]["Tranquilizantes_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[8]["Alucinogenos_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[8]["Opiaceos_1"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[8]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[8]["Otros_1"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[8]["Otros_1"] = "false"}
      }
      if (answer_next[8] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[9]["Tabaco_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[9]["Alcohol_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[9]["Cannabis_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[9]["Cocaina_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[9]["Anfetamina_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[9]["Inhalantes_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[9]["Tranquilizantes_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[9]["Alucinogenos_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_2" && restriction_dict[9]["Opiaceos_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Opiaceos_2"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[9]["Otros_1"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[9]["Otros_1"] = "false"}
      }
      if (answer_next[9] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[10]["Tabaco_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[10]["Alcohol_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[10]["Cannabis_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[10]["Cocaina_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[10]["Anfetamina_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[10]["Inhalantes_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[10]["Tranquilizantes_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[10]["Alucinogenos_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_2" && restriction_dict[10]["Opiaceos_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Opiaceos_2"] = "false"}
        if (element.trialid === "Otros_3" && restriction_dict[10]["Otros_3"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Otros_3"] = "false"}
      }
    })
    for (var i = 0; i < answer_previous.length; i++) 
      if (answer_previous[i] === 'true') 
        cont_prev += 1; 
    for (var j=0; j < answer_next.length; j++) 
      if (answer_next[j] === 'true')
        cont_next += 1; 
    if ((cont_next === 0 && cont_prev !== 0)) return true;
    return false 
  } 
} 

questions_experiment.push(if_question25);

var question26 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>En los últimos tres meses, ¿con qué frecuencia ha tenido deseos fuertes o ansias de consumir cocaína (coca, farlopa, crack, base, etc.)?</div>", options: ['Nunca.', '1 o 2 veces.', 'Cada mes.', 'Cada semana.', 'A diario o casi a diario.'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Cocaina_3'}
}

var if_question26 = { 
  timeline:[question26], 
  conditional_function: function (){ 
    var data = jsPsych.data.get().values(); var cont_prev = 0; var cont_next = 0; 
    var restriction_dict = [{"Cocaina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Cocaina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Cocaina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Cocaina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Cocaina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Cocaina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Cocaina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Cocaina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Cocaina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Cocaina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Cocaina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}]; 
    var answer_previous = []
    var answer_next = []
    answer_previous = answer_previous.concat([""]) 
    answer_next = answer_next.concat(["","","","","","","","","",""]) 
    data.slice().reverse().forEach (function (element) { 
      if (answer_previous[0] !== "false"){
        if (element.trialid === "Cocaina_1" && restriction_dict[0]["Cocaina_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[0]["Cocaina_1"] = "false"}
      }
      if (answer_next[0] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[1]["Tabaco_2"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[1]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_1" && restriction_dict[1]["Alcohol_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alcohol_1"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[1]["Cannabis_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[1]["Cocaina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[1]["Anfetamina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[1]["Inhalantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[1]["Tranquilizantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[1]["Alucinogenos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[1]["Opiaceos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[1]["Otros_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Otros_1"] = "false"}
      }
      if (answer_next[1] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[2]["Tabaco_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[2]["Alcohol_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[2]["Cannabis_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[2]["Cocaina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[2]["Anfetamina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[2]["Inhalantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[2]["Tranquilizantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[2]["Alucinogenos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[2]["Opiaceos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[2]["Otros_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Otros_1"] = "false"}
      }
      if (answer_next[2] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[3]["Tabaco_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[3]["Alcohol_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[3]["Cannabis_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[3]["Cocaina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[3]["Anfetamina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[3]["Inhalantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[3]["Tranquilizantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[3]["Alucinogenos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[3]["Opiaceos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[3]["Otros_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Otros_1"] = "false"}
      }
      if (answer_next[3] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[4]["Tabaco_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[4]["Alcohol_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[4]["Cannabis_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[4]["Cocaina_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[4]["Anfetamina_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[4]["Inhalantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[4]["Tranquilizantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[4]["Alucinogenos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[4]["Opiaceos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[4]["Otros_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Otros_1"] = "false"}
      }
      if (answer_next[4] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[5]["Tabaco_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[5]["Alcohol_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[5]["Cannabis_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[5]["Cocaina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[5]["Anfetamina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[5]["Inhalantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[5]["Tranquilizantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[5]["Alucinogenos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[5]["Opiaceos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[5]["Otros_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Otros_1"] = "false"}
      }
      if (answer_next[5] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[6]["Tabaco_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[6]["Alcohol_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[6]["Cannabis_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[6]["Cocaina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[6]["Anfetamina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[6]["Inhalantes_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[6]["Tranquilizantes_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[6]["Alucinogenos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[6]["Opiaceos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[6]["Otros_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Otros_1"] = "false"}
      }
      if (answer_next[6] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[7]["Tabaco_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[7]["Alcohol_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[7]["Cannabis_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[7]["Cocaina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[7]["Anfetamina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[7]["Inhalantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[7]["Tranquilizantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[7]["Alucinogenos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[7]["Opiaceos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[7]["Otros_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Otros_1"] = "false"}
      }
      if (answer_next[7] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[8]["Tabaco_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[8]["Alcohol_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[8]["Cannabis_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[8]["Cocaina_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[8]["Anfetamina_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[8]["Inhalantes_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[8]["Tranquilizantes_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[8]["Alucinogenos_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[8]["Opiaceos_1"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[8]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[8]["Otros_1"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[8]["Otros_1"] = "false"}
      }
      if (answer_next[8] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[9]["Tabaco_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[9]["Alcohol_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[9]["Cannabis_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[9]["Cocaina_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[9]["Anfetamina_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[9]["Inhalantes_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[9]["Tranquilizantes_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[9]["Alucinogenos_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_2" && restriction_dict[9]["Opiaceos_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Opiaceos_2"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[9]["Otros_1"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[9]["Otros_1"] = "false"}
      }
      if (answer_next[9] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[10]["Tabaco_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[10]["Alcohol_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[10]["Cannabis_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[10]["Cocaina_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[10]["Anfetamina_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[10]["Inhalantes_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[10]["Tranquilizantes_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[10]["Alucinogenos_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_2" && restriction_dict[10]["Opiaceos_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Opiaceos_2"] = "false"}
        if (element.trialid === "Otros_3" && restriction_dict[10]["Otros_3"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Otros_3"] = "false"}
      }
    })
    for (var i = 0; i < answer_previous.length; i++) 
      if (answer_previous[i] === 'true') 
        cont_prev += 1; 
    for (var j=0; j < answer_next.length; j++) 
      if (answer_next[j] === 'true')
        cont_next += 1; 
    if ((cont_next === 0 && cont_prev !== 0)) return true;
    return false 
  } 
} 

questions_experiment.push(if_question26);

var question27 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>En los últimos tres meses, ¿con qué frecuencia ha tenido deseos fuertes o ansias de consumir anfetaminas u otro tipo de estimulantes (speed, éxtasis, píldoras adelgazantes, etc.)?</div>", options: ['Nunca.', '1 o 2 veces.', 'Cada mes.', 'Cada semana.', 'A diario o casi a diario.'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Anfetamina_3'}
}

var if_question27 = { 
  timeline:[question27], 
  conditional_function: function (){ 
    var data = jsPsych.data.get().values(); var cont_prev = 0; var cont_next = 0; 
    var restriction_dict = [{"Anfetamina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Anfetamina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Anfetamina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Anfetamina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Anfetamina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Anfetamina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Anfetamina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Anfetamina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Anfetamina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Anfetamina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Anfetamina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}]; 
    var answer_previous = []
    var answer_next = []
    answer_previous = answer_previous.concat([""]) 
    answer_next = answer_next.concat(["","","","","","","","","",""]) 
    data.slice().reverse().forEach (function (element) { 
      if (answer_previous[0] !== "false"){
        if (element.trialid === "Anfetamina_1" && restriction_dict[0]["Anfetamina_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[0]["Anfetamina_1"] = "false"}
      }
      if (answer_next[0] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[1]["Tabaco_2"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[1]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_1" && restriction_dict[1]["Alcohol_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alcohol_1"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[1]["Cannabis_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[1]["Cocaina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[1]["Anfetamina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[1]["Inhalantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[1]["Tranquilizantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[1]["Alucinogenos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[1]["Opiaceos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[1]["Otros_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Otros_1"] = "false"}
      }
      if (answer_next[1] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[2]["Tabaco_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[2]["Alcohol_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[2]["Cannabis_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[2]["Cocaina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[2]["Anfetamina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[2]["Inhalantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[2]["Tranquilizantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[2]["Alucinogenos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[2]["Opiaceos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[2]["Otros_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Otros_1"] = "false"}
      }
      if (answer_next[2] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[3]["Tabaco_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[3]["Alcohol_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[3]["Cannabis_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[3]["Cocaina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[3]["Anfetamina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[3]["Inhalantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[3]["Tranquilizantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[3]["Alucinogenos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[3]["Opiaceos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[3]["Otros_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Otros_1"] = "false"}
      }
      if (answer_next[3] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[4]["Tabaco_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[4]["Alcohol_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[4]["Cannabis_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[4]["Cocaina_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[4]["Anfetamina_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[4]["Inhalantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[4]["Tranquilizantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[4]["Alucinogenos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[4]["Opiaceos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[4]["Otros_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Otros_1"] = "false"}
      }
      if (answer_next[4] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[5]["Tabaco_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[5]["Alcohol_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[5]["Cannabis_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[5]["Cocaina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[5]["Anfetamina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[5]["Inhalantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[5]["Tranquilizantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[5]["Alucinogenos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[5]["Opiaceos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[5]["Otros_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Otros_1"] = "false"}
      }
      if (answer_next[5] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[6]["Tabaco_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[6]["Alcohol_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[6]["Cannabis_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[6]["Cocaina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[6]["Anfetamina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[6]["Inhalantes_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[6]["Tranquilizantes_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[6]["Alucinogenos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[6]["Opiaceos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[6]["Otros_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Otros_1"] = "false"}
      }
      if (answer_next[6] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[7]["Tabaco_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[7]["Alcohol_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[7]["Cannabis_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[7]["Cocaina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[7]["Anfetamina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[7]["Inhalantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[7]["Tranquilizantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[7]["Alucinogenos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[7]["Opiaceos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[7]["Otros_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Otros_1"] = "false"}
      }
      if (answer_next[7] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[8]["Tabaco_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[8]["Alcohol_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[8]["Cannabis_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[8]["Cocaina_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[8]["Anfetamina_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[8]["Inhalantes_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[8]["Tranquilizantes_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[8]["Alucinogenos_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[8]["Opiaceos_1"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[8]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[8]["Otros_1"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[8]["Otros_1"] = "false"}
      }
      if (answer_next[8] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[9]["Tabaco_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[9]["Alcohol_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[9]["Cannabis_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[9]["Cocaina_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[9]["Anfetamina_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[9]["Inhalantes_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[9]["Tranquilizantes_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[9]["Alucinogenos_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_2" && restriction_dict[9]["Opiaceos_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Opiaceos_2"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[9]["Otros_1"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[9]["Otros_1"] = "false"}
      }
      if (answer_next[9] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[10]["Tabaco_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[10]["Alcohol_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[10]["Cannabis_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[10]["Cocaina_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[10]["Anfetamina_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[10]["Inhalantes_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[10]["Tranquilizantes_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[10]["Alucinogenos_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_2" && restriction_dict[10]["Opiaceos_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Opiaceos_2"] = "false"}
        if (element.trialid === "Otros_3" && restriction_dict[10]["Otros_3"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Otros_3"] = "false"}
      }
    })
    for (var i = 0; i < answer_previous.length; i++) 
      if (answer_previous[i] === 'true') 
        cont_prev += 1; 
    for (var j=0; j < answer_next.length; j++) 
      if (answer_next[j] === 'true')
        cont_next += 1; 
    if ((cont_next === 0 && cont_prev !== 0)) return true;
    return false 
  } 
} 

questions_experiment.push(if_question27);

var question28 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>En los últimos tres meses, ¿con qué frecuencia ha tenido deseos fuertes o ansias de consumir inhalantes (colas, gasolina/nafta, pegamento, etc.)?</div>", options: ['Nunca.', '1 o 2 veces.', 'Cada mes.', 'Cada semana.', 'A diario o casi a diario.'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Inhalantes_3'}
}

var if_question28 = { 
  timeline:[question28], 
  conditional_function: function (){ 
    var data = jsPsych.data.get().values(); var cont_prev = 0; var cont_next = 0; 
    var restriction_dict = [{"Inhalantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Inhalantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Inhalantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Inhalantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Inhalantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Inhalantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Inhalantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Inhalantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Inhalantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Inhalantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Inhalantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}]; 
    var answer_previous = []
    var answer_next = []
    answer_previous = answer_previous.concat([""]) 
    answer_next = answer_next.concat(["","","","","","","","","",""]) 
    data.slice().reverse().forEach (function (element) { 
      if (answer_previous[0] !== "false"){
        if (element.trialid === "Inhalantes_1" && restriction_dict[0]["Inhalantes_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[0]["Inhalantes_1"] = "false"}
      }
      if (answer_next[0] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[1]["Tabaco_2"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[1]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_1" && restriction_dict[1]["Alcohol_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alcohol_1"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[1]["Cannabis_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[1]["Cocaina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[1]["Anfetamina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[1]["Inhalantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[1]["Tranquilizantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[1]["Alucinogenos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[1]["Opiaceos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[1]["Otros_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Otros_1"] = "false"}
      }
      if (answer_next[1] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[2]["Tabaco_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[2]["Alcohol_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[2]["Cannabis_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[2]["Cocaina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[2]["Anfetamina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[2]["Inhalantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[2]["Tranquilizantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[2]["Alucinogenos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[2]["Opiaceos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[2]["Otros_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Otros_1"] = "false"}
      }
      if (answer_next[2] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[3]["Tabaco_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[3]["Alcohol_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[3]["Cannabis_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[3]["Cocaina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[3]["Anfetamina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[3]["Inhalantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[3]["Tranquilizantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[3]["Alucinogenos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[3]["Opiaceos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[3]["Otros_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Otros_1"] = "false"}
      }
      if (answer_next[3] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[4]["Tabaco_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[4]["Alcohol_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[4]["Cannabis_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[4]["Cocaina_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[4]["Anfetamina_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[4]["Inhalantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[4]["Tranquilizantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[4]["Alucinogenos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[4]["Opiaceos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[4]["Otros_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Otros_1"] = "false"}
      }
      if (answer_next[4] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[5]["Tabaco_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[5]["Alcohol_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[5]["Cannabis_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[5]["Cocaina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[5]["Anfetamina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[5]["Inhalantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[5]["Tranquilizantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[5]["Alucinogenos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[5]["Opiaceos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[5]["Otros_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Otros_1"] = "false"}
      }
      if (answer_next[5] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[6]["Tabaco_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[6]["Alcohol_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[6]["Cannabis_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[6]["Cocaina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[6]["Anfetamina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[6]["Inhalantes_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[6]["Tranquilizantes_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[6]["Alucinogenos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[6]["Opiaceos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[6]["Otros_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Otros_1"] = "false"}
      }
      if (answer_next[6] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[7]["Tabaco_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[7]["Alcohol_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[7]["Cannabis_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[7]["Cocaina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[7]["Anfetamina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[7]["Inhalantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[7]["Tranquilizantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[7]["Alucinogenos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[7]["Opiaceos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[7]["Otros_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Otros_1"] = "false"}
      }
      if (answer_next[7] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[8]["Tabaco_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[8]["Alcohol_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[8]["Cannabis_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[8]["Cocaina_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[8]["Anfetamina_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[8]["Inhalantes_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[8]["Tranquilizantes_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[8]["Alucinogenos_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[8]["Opiaceos_1"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[8]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[8]["Otros_1"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[8]["Otros_1"] = "false"}
      }
      if (answer_next[8] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[9]["Tabaco_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[9]["Alcohol_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[9]["Cannabis_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[9]["Cocaina_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[9]["Anfetamina_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[9]["Inhalantes_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[9]["Tranquilizantes_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[9]["Alucinogenos_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_2" && restriction_dict[9]["Opiaceos_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Opiaceos_2"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[9]["Otros_1"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[9]["Otros_1"] = "false"}
      }
      if (answer_next[9] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[10]["Tabaco_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[10]["Alcohol_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[10]["Cannabis_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[10]["Cocaina_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[10]["Anfetamina_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[10]["Inhalantes_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[10]["Tranquilizantes_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[10]["Alucinogenos_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_2" && restriction_dict[10]["Opiaceos_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Opiaceos_2"] = "false"}
        if (element.trialid === "Otros_3" && restriction_dict[10]["Otros_3"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Otros_3"] = "false"}
      }
    })
    for (var i = 0; i < answer_previous.length; i++) 
      if (answer_previous[i] === 'true') 
        cont_prev += 1; 
    for (var j=0; j < answer_next.length; j++) 
      if (answer_next[j] === 'true')
        cont_next += 1; 
    if ((cont_next === 0 && cont_prev !== 0)) return true;
    return false 
  } 
} 

questions_experiment.push(if_question28);

var question29 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>En los últimos tres meses, ¿con qué frecuencia ha tenido deseos fuertes o ansias de consumir tranquilizantes o pastillas para dormir (valium/diazepam, Trankimazin/Alprazolam/Xanax, Orfidal/Lorazepam, Rohipnol, etc.)?</div>", options: ['Nunca.', '1 o 2 veces.', 'Cada mes.', 'Cada semana.', 'A diario o casi a diario.'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Tranquilizantes_3'}
}

var if_question29 = { 
  timeline:[question29], 
  conditional_function: function (){ 
    var data = jsPsych.data.get().values(); var cont_prev = 0; var cont_next = 0; 
    var restriction_dict = [{"Tranquilizantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Tranquilizantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Tranquilizantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Tranquilizantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Tranquilizantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Tranquilizantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Tranquilizantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Tranquilizantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Tranquilizantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Tranquilizantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Tranquilizantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}]; 
    var answer_previous = []
    var answer_next = []
    answer_previous = answer_previous.concat([""]) 
    answer_next = answer_next.concat(["","","","","","","","","",""]) 
    data.slice().reverse().forEach (function (element) { 
      if (answer_previous[0] !== "false"){
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[0]["Tranquilizantes_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[0]["Tranquilizantes_1"] = "false"}
      }
      if (answer_next[0] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[1]["Tabaco_2"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[1]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_1" && restriction_dict[1]["Alcohol_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alcohol_1"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[1]["Cannabis_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[1]["Cocaina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[1]["Anfetamina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[1]["Inhalantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[1]["Tranquilizantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[1]["Alucinogenos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[1]["Opiaceos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[1]["Otros_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Otros_1"] = "false"}
      }
      if (answer_next[1] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[2]["Tabaco_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[2]["Alcohol_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[2]["Cannabis_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[2]["Cocaina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[2]["Anfetamina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[2]["Inhalantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[2]["Tranquilizantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[2]["Alucinogenos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[2]["Opiaceos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[2]["Otros_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Otros_1"] = "false"}
      }
      if (answer_next[2] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[3]["Tabaco_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[3]["Alcohol_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[3]["Cannabis_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[3]["Cocaina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[3]["Anfetamina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[3]["Inhalantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[3]["Tranquilizantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[3]["Alucinogenos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[3]["Opiaceos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[3]["Otros_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Otros_1"] = "false"}
      }
      if (answer_next[3] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[4]["Tabaco_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[4]["Alcohol_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[4]["Cannabis_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[4]["Cocaina_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[4]["Anfetamina_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[4]["Inhalantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[4]["Tranquilizantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[4]["Alucinogenos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[4]["Opiaceos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[4]["Otros_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Otros_1"] = "false"}
      }
      if (answer_next[4] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[5]["Tabaco_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[5]["Alcohol_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[5]["Cannabis_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[5]["Cocaina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[5]["Anfetamina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[5]["Inhalantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[5]["Tranquilizantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[5]["Alucinogenos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[5]["Opiaceos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[5]["Otros_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Otros_1"] = "false"}
      }
      if (answer_next[5] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[6]["Tabaco_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[6]["Alcohol_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[6]["Cannabis_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[6]["Cocaina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[6]["Anfetamina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[6]["Inhalantes_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[6]["Tranquilizantes_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[6]["Alucinogenos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[6]["Opiaceos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[6]["Otros_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Otros_1"] = "false"}
      }
      if (answer_next[6] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[7]["Tabaco_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[7]["Alcohol_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[7]["Cannabis_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[7]["Cocaina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[7]["Anfetamina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[7]["Inhalantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[7]["Tranquilizantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[7]["Alucinogenos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[7]["Opiaceos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[7]["Otros_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Otros_1"] = "false"}
      }
      if (answer_next[7] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[8]["Tabaco_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[8]["Alcohol_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[8]["Cannabis_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[8]["Cocaina_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[8]["Anfetamina_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[8]["Inhalantes_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[8]["Tranquilizantes_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[8]["Alucinogenos_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[8]["Opiaceos_1"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[8]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[8]["Otros_1"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[8]["Otros_1"] = "false"}
      }
      if (answer_next[8] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[9]["Tabaco_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[9]["Alcohol_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[9]["Cannabis_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[9]["Cocaina_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[9]["Anfetamina_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[9]["Inhalantes_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[9]["Tranquilizantes_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[9]["Alucinogenos_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_2" && restriction_dict[9]["Opiaceos_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Opiaceos_2"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[9]["Otros_1"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[9]["Otros_1"] = "false"}
      }
      if (answer_next[9] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[10]["Tabaco_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[10]["Alcohol_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[10]["Cannabis_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[10]["Cocaina_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[10]["Anfetamina_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[10]["Inhalantes_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[10]["Tranquilizantes_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[10]["Alucinogenos_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_2" && restriction_dict[10]["Opiaceos_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Opiaceos_2"] = "false"}
        if (element.trialid === "Otros_3" && restriction_dict[10]["Otros_3"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Otros_3"] = "false"}
      }
    })
    for (var i = 0; i < answer_previous.length; i++) 
      if (answer_previous[i] === 'true') 
        cont_prev += 1; 
    for (var j=0; j < answer_next.length; j++) 
      if (answer_next[j] === 'true')
        cont_next += 1; 
    if ((cont_next === 0 && cont_prev !== 0)) return true;
    return false 
  } 
} 

questions_experiment.push(if_question29);

var question30 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>En los últimos tres meses, ¿con qué frecuencia ha tenido deseos fuertes o ansias de consumir alucinógenos (LSD, ácidos, ketamina, PCP, etc.)?</div>", options: ['Nunca.', '1 o 2 veces.', 'Cada mes.', 'Cada semana.', 'A diario o casi a diario.'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Alucinogenos_3'}
}

var if_question30 = { 
  timeline:[question30], 
  conditional_function: function (){ 
    var data = jsPsych.data.get().values(); var cont_prev = 0; var cont_next = 0; 
    var restriction_dict = [{"Alucinogenos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Alucinogenos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Alucinogenos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Alucinogenos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Alucinogenos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Alucinogenos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Alucinogenos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Alucinogenos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Alucinogenos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Alucinogenos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Alucinogenos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}]; 
    var answer_previous = []
    var answer_next = []
    answer_previous = answer_previous.concat([""]) 
    answer_next = answer_next.concat(["","","","","","","","","",""]) 
    data.slice().reverse().forEach (function (element) { 
      if (answer_previous[0] !== "false"){
        if (element.trialid === "Alucinogenos_1" && restriction_dict[0]["Alucinogenos_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[0]["Alucinogenos_1"] = "false"}
      }
      if (answer_next[0] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[1]["Tabaco_2"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[1]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_1" && restriction_dict[1]["Alcohol_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alcohol_1"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[1]["Cannabis_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[1]["Cocaina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[1]["Anfetamina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[1]["Inhalantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[1]["Tranquilizantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[1]["Alucinogenos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[1]["Opiaceos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[1]["Otros_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Otros_1"] = "false"}
      }
      if (answer_next[1] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[2]["Tabaco_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[2]["Alcohol_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[2]["Cannabis_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[2]["Cocaina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[2]["Anfetamina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[2]["Inhalantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[2]["Tranquilizantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[2]["Alucinogenos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[2]["Opiaceos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[2]["Otros_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Otros_1"] = "false"}
      }
      if (answer_next[2] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[3]["Tabaco_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[3]["Alcohol_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[3]["Cannabis_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[3]["Cocaina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[3]["Anfetamina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[3]["Inhalantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[3]["Tranquilizantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[3]["Alucinogenos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[3]["Opiaceos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[3]["Otros_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Otros_1"] = "false"}
      }
      if (answer_next[3] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[4]["Tabaco_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[4]["Alcohol_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[4]["Cannabis_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[4]["Cocaina_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[4]["Anfetamina_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[4]["Inhalantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[4]["Tranquilizantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[4]["Alucinogenos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[4]["Opiaceos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[4]["Otros_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Otros_1"] = "false"}
      }
      if (answer_next[4] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[5]["Tabaco_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[5]["Alcohol_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[5]["Cannabis_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[5]["Cocaina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[5]["Anfetamina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[5]["Inhalantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[5]["Tranquilizantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[5]["Alucinogenos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[5]["Opiaceos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[5]["Otros_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Otros_1"] = "false"}
      }
      if (answer_next[5] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[6]["Tabaco_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[6]["Alcohol_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[6]["Cannabis_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[6]["Cocaina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[6]["Anfetamina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[6]["Inhalantes_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[6]["Tranquilizantes_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[6]["Alucinogenos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[6]["Opiaceos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[6]["Otros_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Otros_1"] = "false"}
      }
      if (answer_next[6] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[7]["Tabaco_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[7]["Alcohol_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[7]["Cannabis_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[7]["Cocaina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[7]["Anfetamina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[7]["Inhalantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[7]["Tranquilizantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[7]["Alucinogenos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[7]["Opiaceos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[7]["Otros_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Otros_1"] = "false"}
      }
      if (answer_next[7] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[8]["Tabaco_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[8]["Alcohol_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[8]["Cannabis_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[8]["Cocaina_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[8]["Anfetamina_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[8]["Inhalantes_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[8]["Tranquilizantes_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[8]["Alucinogenos_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[8]["Opiaceos_1"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[8]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[8]["Otros_1"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[8]["Otros_1"] = "false"}
      }
      if (answer_next[8] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[9]["Tabaco_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[9]["Alcohol_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[9]["Cannabis_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[9]["Cocaina_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[9]["Anfetamina_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[9]["Inhalantes_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[9]["Tranquilizantes_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[9]["Alucinogenos_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_2" && restriction_dict[9]["Opiaceos_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Opiaceos_2"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[9]["Otros_1"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[9]["Otros_1"] = "false"}
      }
      if (answer_next[9] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[10]["Tabaco_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[10]["Alcohol_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[10]["Cannabis_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[10]["Cocaina_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[10]["Anfetamina_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[10]["Inhalantes_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[10]["Tranquilizantes_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[10]["Alucinogenos_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_2" && restriction_dict[10]["Opiaceos_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Opiaceos_2"] = "false"}
        if (element.trialid === "Otros_3" && restriction_dict[10]["Otros_3"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Otros_3"] = "false"}
      }
    })
    for (var i = 0; i < answer_previous.length; i++) 
      if (answer_previous[i] === 'true') 
        cont_prev += 1; 
    for (var j=0; j < answer_next.length; j++) 
      if (answer_next[j] === 'true')
        cont_next += 1; 
    if ((cont_next === 0 && cont_prev !== 0)) return true;
    return false 
  } 
} 

questions_experiment.push(if_question30);

var question31 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>En los últimos tres meses, ¿con qué frecuencia ha tenido deseos fuertes o ansias de consumir opiáceos (heroína, metadona, codeína, morfina, dolantina/petidina, etc.)?</div>", options: ['Nunca.', '1 o 2 veces.', 'Cada mes.', 'Cada semana.', 'A diario o casi a diario.'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Opiaceos_3'}
}

var if_question31 = { 
  timeline:[question31], 
  conditional_function: function (){ 
    var data = jsPsych.data.get().values(); var cont_prev = 0; var cont_next = 0; 
    var restriction_dict = [{"Opiaceos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Opiaceos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Opiaceos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Opiaceos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Opiaceos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Opiaceos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Opiaceos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Opiaceos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Opiaceos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Opiaceos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Opiaceos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}]; 
    var answer_previous = []
    var answer_next = []
    answer_previous = answer_previous.concat([""]) 
    answer_next = answer_next.concat(["","","","","","","","","",""]) 
    data.slice().reverse().forEach (function (element) { 
      if (answer_previous[0] !== "false"){
        if (element.trialid === "Opiaceos_1" && restriction_dict[0]["Opiaceos_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[0]["Opiaceos_1"] = "false"}
      }
      if (answer_next[0] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[1]["Tabaco_2"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[1]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_1" && restriction_dict[1]["Alcohol_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alcohol_1"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[1]["Cannabis_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[1]["Cocaina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[1]["Anfetamina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[1]["Inhalantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[1]["Tranquilizantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[1]["Alucinogenos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[1]["Opiaceos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[1]["Otros_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Otros_1"] = "false"}
      }
      if (answer_next[1] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[2]["Tabaco_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[2]["Alcohol_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[2]["Cannabis_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[2]["Cocaina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[2]["Anfetamina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[2]["Inhalantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[2]["Tranquilizantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[2]["Alucinogenos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[2]["Opiaceos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[2]["Otros_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Otros_1"] = "false"}
      }
      if (answer_next[2] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[3]["Tabaco_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[3]["Alcohol_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[3]["Cannabis_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[3]["Cocaina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[3]["Anfetamina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[3]["Inhalantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[3]["Tranquilizantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[3]["Alucinogenos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[3]["Opiaceos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[3]["Otros_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Otros_1"] = "false"}
      }
      if (answer_next[3] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[4]["Tabaco_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[4]["Alcohol_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[4]["Cannabis_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[4]["Cocaina_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[4]["Anfetamina_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[4]["Inhalantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[4]["Tranquilizantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[4]["Alucinogenos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[4]["Opiaceos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[4]["Otros_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Otros_1"] = "false"}
      }
      if (answer_next[4] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[5]["Tabaco_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[5]["Alcohol_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[5]["Cannabis_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[5]["Cocaina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[5]["Anfetamina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[5]["Inhalantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[5]["Tranquilizantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[5]["Alucinogenos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[5]["Opiaceos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[5]["Otros_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Otros_1"] = "false"}
      }
      if (answer_next[5] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[6]["Tabaco_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[6]["Alcohol_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[6]["Cannabis_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[6]["Cocaina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[6]["Anfetamina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[6]["Inhalantes_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[6]["Tranquilizantes_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[6]["Alucinogenos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[6]["Opiaceos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[6]["Otros_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Otros_1"] = "false"}
      }
      if (answer_next[6] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[7]["Tabaco_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[7]["Alcohol_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[7]["Cannabis_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[7]["Cocaina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[7]["Anfetamina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[7]["Inhalantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[7]["Tranquilizantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[7]["Alucinogenos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[7]["Opiaceos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[7]["Otros_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Otros_1"] = "false"}
      }
      if (answer_next[7] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[8]["Tabaco_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[8]["Alcohol_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[8]["Cannabis_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[8]["Cocaina_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[8]["Anfetamina_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[8]["Inhalantes_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[8]["Tranquilizantes_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[8]["Alucinogenos_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[8]["Opiaceos_1"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[8]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[8]["Otros_1"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[8]["Otros_1"] = "false"}
      }
      if (answer_next[8] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[9]["Tabaco_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[9]["Alcohol_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[9]["Cannabis_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[9]["Cocaina_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[9]["Anfetamina_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[9]["Inhalantes_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[9]["Tranquilizantes_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[9]["Alucinogenos_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_2" && restriction_dict[9]["Opiaceos_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Opiaceos_2"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[9]["Otros_1"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[9]["Otros_1"] = "false"}
      }
      if (answer_next[9] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[10]["Tabaco_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[10]["Alcohol_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[10]["Cannabis_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[10]["Cocaina_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[10]["Anfetamina_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[10]["Inhalantes_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[10]["Tranquilizantes_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[10]["Alucinogenos_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_2" && restriction_dict[10]["Opiaceos_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Opiaceos_2"] = "false"}
        if (element.trialid === "Otros_3" && restriction_dict[10]["Otros_3"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Otros_3"] = "false"}
      }
    })
    for (var i = 0; i < answer_previous.length; i++) 
      if (answer_previous[i] === 'true') 
        cont_prev += 1; 
    for (var j=0; j < answer_next.length; j++) 
      if (answer_next[j] === 'true')
        cont_next += 1; 
    if ((cont_next === 0 && cont_prev !== 0)) return true;
    return false 
  } 
} 

questions_experiment.push(if_question31);

var question32 = {
  type:'survey-multi-choice',
  questions:[{prompt: '',options: ['']}],
  on_start: function(trial) {
    trial.questions = [{prompt: "<div class='justified'>En los últimos tres meses, ¿con qué frecuencia ha tenido deseos fuertes o ansias de consumir "+variables["otra_sustancia"]+"?</div>", options: ['Nunca.', '1 o 2 veces.', 'Cada mes.', 'Cada semana.', 'A diario o casi a diario.'], required: true, horizontal: false, not_enabled_options: 0}];
  },
  data: {trialid: 'Otros_4'}
}

var if_question32 = { 
  timeline:[question32], 
  conditional_function: function (){ 
    var data = jsPsych.data.get().values(); var cont_prev = 0; var cont_next = 0; 
    var restriction_dict = [{"Otros_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Otros_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Otros_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Otros_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Otros_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Otros_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Otros_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Otros_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Otros_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Otros_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Otros_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}]; 
    var answer_previous = []
    var answer_next = []
    answer_previous = answer_previous.concat([""]) 
    answer_next = answer_next.concat(["","","","","","","","","",""]) 
    data.slice().reverse().forEach (function (element) { 
      if (answer_previous[0] !== "false"){
        if (element.trialid === "Otros_1" && restriction_dict[0]["Otros_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[0]["Otros_1"] = "false"}
      }
      if (answer_next[0] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[1]["Tabaco_2"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[1]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_1" && restriction_dict[1]["Alcohol_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alcohol_1"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[1]["Cannabis_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[1]["Cocaina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[1]["Anfetamina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[1]["Inhalantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[1]["Tranquilizantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[1]["Alucinogenos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[1]["Opiaceos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[1]["Otros_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Otros_1"] = "false"}
      }
      if (answer_next[1] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[2]["Tabaco_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[2]["Alcohol_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[2]["Cannabis_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[2]["Cocaina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[2]["Anfetamina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[2]["Inhalantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[2]["Tranquilizantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[2]["Alucinogenos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[2]["Opiaceos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[2]["Otros_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Otros_1"] = "false"}
      }
      if (answer_next[2] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[3]["Tabaco_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[3]["Alcohol_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[3]["Cannabis_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[3]["Cocaina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[3]["Anfetamina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[3]["Inhalantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[3]["Tranquilizantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[3]["Alucinogenos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[3]["Opiaceos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[3]["Otros_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Otros_1"] = "false"}
      }
      if (answer_next[3] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[4]["Tabaco_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[4]["Alcohol_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[4]["Cannabis_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[4]["Cocaina_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[4]["Anfetamina_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[4]["Inhalantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[4]["Tranquilizantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[4]["Alucinogenos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[4]["Opiaceos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[4]["Otros_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Otros_1"] = "false"}
      }
      if (answer_next[4] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[5]["Tabaco_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[5]["Alcohol_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[5]["Cannabis_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[5]["Cocaina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[5]["Anfetamina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[5]["Inhalantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[5]["Tranquilizantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[5]["Alucinogenos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[5]["Opiaceos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[5]["Otros_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Otros_1"] = "false"}
      }
      if (answer_next[5] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[6]["Tabaco_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[6]["Alcohol_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[6]["Cannabis_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[6]["Cocaina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[6]["Anfetamina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[6]["Inhalantes_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[6]["Tranquilizantes_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[6]["Alucinogenos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[6]["Opiaceos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[6]["Otros_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Otros_1"] = "false"}
      }
      if (answer_next[6] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[7]["Tabaco_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[7]["Alcohol_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[7]["Cannabis_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[7]["Cocaina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[7]["Anfetamina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[7]["Inhalantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[7]["Tranquilizantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[7]["Alucinogenos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[7]["Opiaceos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[7]["Otros_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Otros_1"] = "false"}
      }
      if (answer_next[7] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[8]["Tabaco_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[8]["Alcohol_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[8]["Cannabis_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[8]["Cocaina_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[8]["Anfetamina_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[8]["Inhalantes_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[8]["Tranquilizantes_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[8]["Alucinogenos_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[8]["Opiaceos_1"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[8]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[8]["Otros_1"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[8]["Otros_1"] = "false"}
      }
      if (answer_next[8] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[9]["Tabaco_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[9]["Alcohol_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[9]["Cannabis_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[9]["Cocaina_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[9]["Anfetamina_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[9]["Inhalantes_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[9]["Tranquilizantes_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[9]["Alucinogenos_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_2" && restriction_dict[9]["Opiaceos_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Opiaceos_2"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[9]["Otros_1"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[9]["Otros_1"] = "false"}
      }
      if (answer_next[9] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[10]["Tabaco_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[10]["Alcohol_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[10]["Cannabis_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[10]["Cocaina_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[10]["Anfetamina_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[10]["Inhalantes_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[10]["Tranquilizantes_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[10]["Alucinogenos_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_2" && restriction_dict[10]["Opiaceos_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Opiaceos_2"] = "false"}
        if (element.trialid === "Otros_3" && restriction_dict[10]["Otros_3"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Otros_3"] = "false"}
      }
    })
    variable:otra_sustancia = variables['variable:otra_sustancia']; 
    for (var i = 0; i < answer_previous.length; i++) 
      if (answer_previous[i] === 'true') 
        cont_prev += 1; 
    for (var j=0; j < answer_next.length; j++) 
      if (answer_next[j] === 'true')
        cont_next += 1; 
    if ((cont_next === 0 && cont_prev !== 0)) return true;
    return false 
  } 
} 

questions_experiment.push(if_question32);

var question33 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>En los últimos tres meses, ¿con qué frecuencia le ha llevado su consumo de tabaco (cigarrillos, cigarros habanos, tabaco de mascar, pipa, etc.) a problemas de salud, sociales, legales o económicos?</div>", options: ['Nunca.', '1 o 2 veces.', 'Cada mes.', 'Cada semana.', 'A diario o casi a diario.'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Tabaco_4'}
}

var if_question33 = { 
  timeline:[question33], 
  conditional_function: function (){ 
    var data = jsPsych.data.get().values(); var cont_prev = 0; var cont_next = 0; 
    var restriction_dict = [{"Tabaco_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Tabaco_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Tabaco_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Tabaco_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Tabaco_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Tabaco_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Tabaco_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Tabaco_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Tabaco_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Tabaco_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Tabaco_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}]; 
    var answer_previous = []
    var answer_next = []
    answer_previous = answer_previous.concat([""]) 
    answer_next = answer_next.concat(["","","","","","","","","",""]) 
    data.slice().reverse().forEach (function (element) { 
      if (answer_previous[0] !== "false"){
        if (element.trialid === "Tabaco_1" && restriction_dict[0]["Tabaco_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[0]["Tabaco_1"] = "false"}
      }
      if (answer_next[0] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[1]["Tabaco_2"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[1]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_1" && restriction_dict[1]["Alcohol_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alcohol_1"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[1]["Cannabis_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[1]["Cocaina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[1]["Anfetamina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[1]["Inhalantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[1]["Tranquilizantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[1]["Alucinogenos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[1]["Opiaceos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[1]["Otros_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Otros_1"] = "false"}
      }
      if (answer_next[1] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[2]["Tabaco_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[2]["Alcohol_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[2]["Cannabis_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[2]["Cocaina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[2]["Anfetamina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[2]["Inhalantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[2]["Tranquilizantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[2]["Alucinogenos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[2]["Opiaceos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[2]["Otros_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Otros_1"] = "false"}
      }
      if (answer_next[2] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[3]["Tabaco_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[3]["Alcohol_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[3]["Cannabis_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[3]["Cocaina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[3]["Anfetamina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[3]["Inhalantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[3]["Tranquilizantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[3]["Alucinogenos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[3]["Opiaceos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[3]["Otros_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Otros_1"] = "false"}
      }
      if (answer_next[3] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[4]["Tabaco_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[4]["Alcohol_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[4]["Cannabis_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[4]["Cocaina_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[4]["Anfetamina_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[4]["Inhalantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[4]["Tranquilizantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[4]["Alucinogenos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[4]["Opiaceos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[4]["Otros_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Otros_1"] = "false"}
      }
      if (answer_next[4] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[5]["Tabaco_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[5]["Alcohol_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[5]["Cannabis_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[5]["Cocaina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[5]["Anfetamina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[5]["Inhalantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[5]["Tranquilizantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[5]["Alucinogenos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[5]["Opiaceos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[5]["Otros_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Otros_1"] = "false"}
      }
      if (answer_next[5] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[6]["Tabaco_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[6]["Alcohol_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[6]["Cannabis_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[6]["Cocaina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[6]["Anfetamina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[6]["Inhalantes_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[6]["Tranquilizantes_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[6]["Alucinogenos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[6]["Opiaceos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[6]["Otros_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Otros_1"] = "false"}
      }
      if (answer_next[6] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[7]["Tabaco_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[7]["Alcohol_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[7]["Cannabis_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[7]["Cocaina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[7]["Anfetamina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[7]["Inhalantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[7]["Tranquilizantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[7]["Alucinogenos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[7]["Opiaceos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[7]["Otros_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Otros_1"] = "false"}
      }
      if (answer_next[7] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[8]["Tabaco_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[8]["Alcohol_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[8]["Cannabis_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[8]["Cocaina_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[8]["Anfetamina_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[8]["Inhalantes_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[8]["Tranquilizantes_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[8]["Alucinogenos_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[8]["Opiaceos_1"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[8]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[8]["Otros_1"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[8]["Otros_1"] = "false"}
      }
      if (answer_next[8] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[9]["Tabaco_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[9]["Alcohol_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[9]["Cannabis_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[9]["Cocaina_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[9]["Anfetamina_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[9]["Inhalantes_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[9]["Tranquilizantes_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[9]["Alucinogenos_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_2" && restriction_dict[9]["Opiaceos_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Opiaceos_2"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[9]["Otros_1"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[9]["Otros_1"] = "false"}
      }
      if (answer_next[9] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[10]["Tabaco_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[10]["Alcohol_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[10]["Cannabis_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[10]["Cocaina_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[10]["Anfetamina_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[10]["Inhalantes_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[10]["Tranquilizantes_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[10]["Alucinogenos_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_2" && restriction_dict[10]["Opiaceos_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Opiaceos_2"] = "false"}
        if (element.trialid === "Otros_3" && restriction_dict[10]["Otros_3"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Otros_3"] = "false"}
      }
    })
    for (var i = 0; i < answer_previous.length; i++) 
      if (answer_previous[i] === 'true') 
        cont_prev += 1; 
    for (var j=0; j < answer_next.length; j++) 
      if (answer_next[j] === 'true')
        cont_next += 1; 
    if ((cont_next === 0 && cont_prev !== 0)) return true;
    return false 
  } 
} 

questions_experiment.push(if_question33);

var question34 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>En los últimos tres meses, ¿con qué frecuencia le ha llevado su consumo de bebidas alcohólicas (cerveza, vino, licores, destilados, etc.) a problemas de salud, sociales, legales o económicos?</div>", options: ['Nunca.', '1 o 2 veces.', 'Cada mes.', 'Cada semana.', 'A diario o casi a diario.'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Alcohol_4'}
}

var if_question34 = { 
  timeline:[question34], 
  conditional_function: function (){ 
    var data = jsPsych.data.get().values(); var cont_prev = 0; var cont_next = 0; 
    var restriction_dict = [{"Alcohol_1": "true", "Tabaco_2": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Alcohol_1": "true", "Tabaco_2": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Alcohol_1": "true", "Tabaco_2": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Alcohol_1": "true", "Tabaco_2": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Alcohol_1": "true", "Tabaco_2": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Alcohol_1": "true", "Tabaco_2": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Alcohol_1": "true", "Tabaco_2": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Alcohol_1": "true", "Tabaco_2": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Alcohol_1": "true", "Tabaco_2": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Alcohol_1": "true", "Tabaco_2": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Alcohol_1": "true", "Tabaco_2": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}]; 
    var answer_previous = []
    var answer_next = []
    answer_previous = answer_previous.concat([""]) 
    answer_next = answer_next.concat(["","","","","","","","","",""]) 
    data.slice().reverse().forEach (function (element) { 
      if (answer_previous[0] !== "false"){
        if (element.trialid === "Alcohol_1" && restriction_dict[0]["Alcohol_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[0]["Alcohol_1"] = "false"}
      }
      if (answer_next[0] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[1]["Tabaco_2"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[1]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_1" && restriction_dict[1]["Alcohol_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alcohol_1"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[1]["Cannabis_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[1]["Cocaina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[1]["Anfetamina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[1]["Inhalantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[1]["Tranquilizantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[1]["Alucinogenos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[1]["Opiaceos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[1]["Otros_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Otros_1"] = "false"}
      }
      if (answer_next[1] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[2]["Tabaco_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[2]["Alcohol_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[2]["Cannabis_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[2]["Cocaina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[2]["Anfetamina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[2]["Inhalantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[2]["Tranquilizantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[2]["Alucinogenos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[2]["Opiaceos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[2]["Otros_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Otros_1"] = "false"}
      }
      if (answer_next[2] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[3]["Tabaco_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[3]["Alcohol_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[3]["Cannabis_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[3]["Cocaina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[3]["Anfetamina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[3]["Inhalantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[3]["Tranquilizantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[3]["Alucinogenos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[3]["Opiaceos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[3]["Otros_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Otros_1"] = "false"}
      }
      if (answer_next[3] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[4]["Tabaco_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[4]["Alcohol_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[4]["Cannabis_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[4]["Cocaina_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[4]["Anfetamina_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[4]["Inhalantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[4]["Tranquilizantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[4]["Alucinogenos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[4]["Opiaceos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[4]["Otros_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Otros_1"] = "false"}
      }
      if (answer_next[4] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[5]["Tabaco_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[5]["Alcohol_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[5]["Cannabis_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[5]["Cocaina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[5]["Anfetamina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[5]["Inhalantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[5]["Tranquilizantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[5]["Alucinogenos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[5]["Opiaceos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[5]["Otros_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Otros_1"] = "false"}
      }
      if (answer_next[5] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[6]["Tabaco_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[6]["Alcohol_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[6]["Cannabis_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[6]["Cocaina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[6]["Anfetamina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[6]["Inhalantes_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[6]["Tranquilizantes_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[6]["Alucinogenos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[6]["Opiaceos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[6]["Otros_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Otros_1"] = "false"}
      }
      if (answer_next[6] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[7]["Tabaco_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[7]["Alcohol_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[7]["Cannabis_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[7]["Cocaina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[7]["Anfetamina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[7]["Inhalantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[7]["Tranquilizantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[7]["Alucinogenos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[7]["Opiaceos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[7]["Otros_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Otros_1"] = "false"}
      }
      if (answer_next[7] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[8]["Tabaco_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[8]["Alcohol_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[8]["Cannabis_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[8]["Cocaina_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[8]["Anfetamina_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[8]["Inhalantes_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[8]["Tranquilizantes_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[8]["Alucinogenos_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[8]["Opiaceos_1"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[8]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[8]["Otros_1"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[8]["Otros_1"] = "false"}
      }
      if (answer_next[8] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[9]["Tabaco_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[9]["Alcohol_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[9]["Cannabis_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[9]["Cocaina_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[9]["Anfetamina_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[9]["Inhalantes_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[9]["Tranquilizantes_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[9]["Alucinogenos_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_2" && restriction_dict[9]["Opiaceos_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Opiaceos_2"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[9]["Otros_1"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[9]["Otros_1"] = "false"}
      }
      if (answer_next[9] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[10]["Tabaco_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[10]["Alcohol_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[10]["Cannabis_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[10]["Cocaina_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[10]["Anfetamina_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[10]["Inhalantes_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[10]["Tranquilizantes_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[10]["Alucinogenos_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_2" && restriction_dict[10]["Opiaceos_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Opiaceos_2"] = "false"}
        if (element.trialid === "Otros_3" && restriction_dict[10]["Otros_3"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Otros_3"] = "false"}
      }
    })
    for (var i = 0; i < answer_previous.length; i++) 
      if (answer_previous[i] === 'true') 
        cont_prev += 1; 
    for (var j=0; j < answer_next.length; j++) 
      if (answer_next[j] === 'true')
        cont_next += 1; 
    if ((cont_next === 0 && cont_prev !== 0)) return true;
    return false 
  } 
} 

questions_experiment.push(if_question34);

var question35 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>En los últimos tres meses, ¿con qué frecuencia le ha llevado su consumo de cannabis (marihuana, costo, hierba, hashish, etc.) a problemas de salud, sociales, legales o económicos?</div>", options: ['Nunca.', '1 o 2 veces.', 'Cada mes.', 'Cada semana.', 'A diario o casi a diario.'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Cannabis_4'}
}

var if_question35 = { 
  timeline:[question35], 
  conditional_function: function (){ 
    var data = jsPsych.data.get().values(); var cont_prev = 0; var cont_next = 0; 
    var restriction_dict = [{"Cannabis_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Cannabis_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Cannabis_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Cannabis_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Cannabis_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Cannabis_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Cannabis_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Cannabis_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Cannabis_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Cannabis_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Cannabis_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}]; 
    var answer_previous = []
    var answer_next = []
    answer_previous = answer_previous.concat([""]) 
    answer_next = answer_next.concat(["","","","","","","","","",""]) 
    data.slice().reverse().forEach (function (element) { 
      if (answer_previous[0] !== "false"){
        if (element.trialid === "Cannabis_1" && restriction_dict[0]["Cannabis_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[0]["Cannabis_1"] = "false"}
      }
      if (answer_next[0] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[1]["Tabaco_2"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[1]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_1" && restriction_dict[1]["Alcohol_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alcohol_1"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[1]["Cannabis_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[1]["Cocaina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[1]["Anfetamina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[1]["Inhalantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[1]["Tranquilizantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[1]["Alucinogenos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[1]["Opiaceos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[1]["Otros_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Otros_1"] = "false"}
      }
      if (answer_next[1] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[2]["Tabaco_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[2]["Alcohol_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[2]["Cannabis_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[2]["Cocaina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[2]["Anfetamina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[2]["Inhalantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[2]["Tranquilizantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[2]["Alucinogenos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[2]["Opiaceos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[2]["Otros_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Otros_1"] = "false"}
      }
      if (answer_next[2] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[3]["Tabaco_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[3]["Alcohol_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[3]["Cannabis_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[3]["Cocaina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[3]["Anfetamina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[3]["Inhalantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[3]["Tranquilizantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[3]["Alucinogenos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[3]["Opiaceos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[3]["Otros_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Otros_1"] = "false"}
      }
      if (answer_next[3] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[4]["Tabaco_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[4]["Alcohol_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[4]["Cannabis_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[4]["Cocaina_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[4]["Anfetamina_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[4]["Inhalantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[4]["Tranquilizantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[4]["Alucinogenos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[4]["Opiaceos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[4]["Otros_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Otros_1"] = "false"}
      }
      if (answer_next[4] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[5]["Tabaco_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[5]["Alcohol_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[5]["Cannabis_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[5]["Cocaina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[5]["Anfetamina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[5]["Inhalantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[5]["Tranquilizantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[5]["Alucinogenos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[5]["Opiaceos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[5]["Otros_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Otros_1"] = "false"}
      }
      if (answer_next[5] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[6]["Tabaco_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[6]["Alcohol_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[6]["Cannabis_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[6]["Cocaina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[6]["Anfetamina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[6]["Inhalantes_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[6]["Tranquilizantes_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[6]["Alucinogenos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[6]["Opiaceos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[6]["Otros_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Otros_1"] = "false"}
      }
      if (answer_next[6] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[7]["Tabaco_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[7]["Alcohol_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[7]["Cannabis_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[7]["Cocaina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[7]["Anfetamina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[7]["Inhalantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[7]["Tranquilizantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[7]["Alucinogenos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[7]["Opiaceos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[7]["Otros_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Otros_1"] = "false"}
      }
      if (answer_next[7] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[8]["Tabaco_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[8]["Alcohol_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[8]["Cannabis_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[8]["Cocaina_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[8]["Anfetamina_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[8]["Inhalantes_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[8]["Tranquilizantes_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[8]["Alucinogenos_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[8]["Opiaceos_1"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[8]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[8]["Otros_1"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[8]["Otros_1"] = "false"}
      }
      if (answer_next[8] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[9]["Tabaco_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[9]["Alcohol_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[9]["Cannabis_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[9]["Cocaina_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[9]["Anfetamina_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[9]["Inhalantes_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[9]["Tranquilizantes_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[9]["Alucinogenos_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_2" && restriction_dict[9]["Opiaceos_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Opiaceos_2"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[9]["Otros_1"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[9]["Otros_1"] = "false"}
      }
      if (answer_next[9] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[10]["Tabaco_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[10]["Alcohol_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[10]["Cannabis_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[10]["Cocaina_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[10]["Anfetamina_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[10]["Inhalantes_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[10]["Tranquilizantes_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[10]["Alucinogenos_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_2" && restriction_dict[10]["Opiaceos_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Opiaceos_2"] = "false"}
        if (element.trialid === "Otros_3" && restriction_dict[10]["Otros_3"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Otros_3"] = "false"}
      }
    })
    for (var i = 0; i < answer_previous.length; i++) 
      if (answer_previous[i] === 'true') 
        cont_prev += 1; 
    for (var j=0; j < answer_next.length; j++) 
      if (answer_next[j] === 'true')
        cont_next += 1; 
    if ((cont_next === 0 && cont_prev !== 0)) return true;
    return false 
  } 
} 

questions_experiment.push(if_question35);

var question36 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>En los últimos tres meses, ¿con qué frecuencia le ha llevado su consumo de cocaína (coca, farlopa, crack, base, etc.) a problemas de salud, sociales, legales o económicos?</div>", options: ['Nunca.', '1 o 2 veces.', 'Cada mes.', 'Cada semana.', 'A diario o casi a diario.'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Cocaina_4'}
}

var if_question36 = { 
  timeline:[question36], 
  conditional_function: function (){ 
    var data = jsPsych.data.get().values(); var cont_prev = 0; var cont_next = 0; 
    var restriction_dict = [{"Cocaina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Cocaina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Cocaina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Cocaina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Cocaina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Cocaina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Cocaina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Cocaina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Cocaina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Cocaina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Cocaina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}]; 
    var answer_previous = []
    var answer_next = []
    answer_previous = answer_previous.concat([""]) 
    answer_next = answer_next.concat(["","","","","","","","","",""]) 
    data.slice().reverse().forEach (function (element) { 
      if (answer_previous[0] !== "false"){
        if (element.trialid === "Cocaina_1" && restriction_dict[0]["Cocaina_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[0]["Cocaina_1"] = "false"}
      }
      if (answer_next[0] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[1]["Tabaco_2"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[1]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_1" && restriction_dict[1]["Alcohol_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alcohol_1"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[1]["Cannabis_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[1]["Cocaina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[1]["Anfetamina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[1]["Inhalantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[1]["Tranquilizantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[1]["Alucinogenos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[1]["Opiaceos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[1]["Otros_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Otros_1"] = "false"}
      }
      if (answer_next[1] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[2]["Tabaco_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[2]["Alcohol_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[2]["Cannabis_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[2]["Cocaina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[2]["Anfetamina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[2]["Inhalantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[2]["Tranquilizantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[2]["Alucinogenos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[2]["Opiaceos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[2]["Otros_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Otros_1"] = "false"}
      }
      if (answer_next[2] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[3]["Tabaco_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[3]["Alcohol_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[3]["Cannabis_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[3]["Cocaina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[3]["Anfetamina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[3]["Inhalantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[3]["Tranquilizantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[3]["Alucinogenos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[3]["Opiaceos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[3]["Otros_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Otros_1"] = "false"}
      }
      if (answer_next[3] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[4]["Tabaco_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[4]["Alcohol_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[4]["Cannabis_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[4]["Cocaina_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[4]["Anfetamina_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[4]["Inhalantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[4]["Tranquilizantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[4]["Alucinogenos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[4]["Opiaceos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[4]["Otros_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Otros_1"] = "false"}
      }
      if (answer_next[4] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[5]["Tabaco_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[5]["Alcohol_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[5]["Cannabis_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[5]["Cocaina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[5]["Anfetamina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[5]["Inhalantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[5]["Tranquilizantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[5]["Alucinogenos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[5]["Opiaceos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[5]["Otros_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Otros_1"] = "false"}
      }
      if (answer_next[5] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[6]["Tabaco_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[6]["Alcohol_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[6]["Cannabis_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[6]["Cocaina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[6]["Anfetamina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[6]["Inhalantes_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[6]["Tranquilizantes_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[6]["Alucinogenos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[6]["Opiaceos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[6]["Otros_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Otros_1"] = "false"}
      }
      if (answer_next[6] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[7]["Tabaco_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[7]["Alcohol_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[7]["Cannabis_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[7]["Cocaina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[7]["Anfetamina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[7]["Inhalantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[7]["Tranquilizantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[7]["Alucinogenos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[7]["Opiaceos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[7]["Otros_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Otros_1"] = "false"}
      }
      if (answer_next[7] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[8]["Tabaco_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[8]["Alcohol_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[8]["Cannabis_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[8]["Cocaina_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[8]["Anfetamina_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[8]["Inhalantes_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[8]["Tranquilizantes_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[8]["Alucinogenos_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[8]["Opiaceos_1"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[8]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[8]["Otros_1"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[8]["Otros_1"] = "false"}
      }
      if (answer_next[8] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[9]["Tabaco_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[9]["Alcohol_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[9]["Cannabis_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[9]["Cocaina_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[9]["Anfetamina_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[9]["Inhalantes_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[9]["Tranquilizantes_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[9]["Alucinogenos_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_2" && restriction_dict[9]["Opiaceos_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Opiaceos_2"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[9]["Otros_1"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[9]["Otros_1"] = "false"}
      }
      if (answer_next[9] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[10]["Tabaco_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[10]["Alcohol_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[10]["Cannabis_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[10]["Cocaina_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[10]["Anfetamina_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[10]["Inhalantes_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[10]["Tranquilizantes_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[10]["Alucinogenos_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_2" && restriction_dict[10]["Opiaceos_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Opiaceos_2"] = "false"}
        if (element.trialid === "Otros_3" && restriction_dict[10]["Otros_3"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Otros_3"] = "false"}
      }
    })
    for (var i = 0; i < answer_previous.length; i++) 
      if (answer_previous[i] === 'true') 
        cont_prev += 1; 
    for (var j=0; j < answer_next.length; j++) 
      if (answer_next[j] === 'true')
        cont_next += 1; 
    if ((cont_next === 0 && cont_prev !== 0)) return true;
    return false 
  } 
} 

questions_experiment.push(if_question36);

var question37 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>En los últimos tres meses, ¿con qué frecuencia le ha llevado su consumo de anfetaminas u otro tipo de estimulantes (speed, éxtasis, píldoras adelgazantes, etc.) a problemas de salud, sociales, legales o económicos?</div>", options: ['Nunca.', '1 o 2 veces.', 'Cada mes.', 'Cada semana.', 'A diario o casi a diario.'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Anfetamina_4'}
}

var if_question37 = { 
  timeline:[question37], 
  conditional_function: function (){ 
    var data = jsPsych.data.get().values(); var cont_prev = 0; var cont_next = 0; 
    var restriction_dict = [{"Anfetamina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Anfetamina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Anfetamina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Anfetamina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Anfetamina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Anfetamina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Anfetamina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Anfetamina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Anfetamina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Anfetamina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Anfetamina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}]; 
    var answer_previous = []
    var answer_next = []
    answer_previous = answer_previous.concat([""]) 
    answer_next = answer_next.concat(["","","","","","","","","",""]) 
    data.slice().reverse().forEach (function (element) { 
      if (answer_previous[0] !== "false"){
        if (element.trialid === "Anfetamina_1" && restriction_dict[0]["Anfetamina_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[0]["Anfetamina_1"] = "false"}
      }
      if (answer_next[0] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[1]["Tabaco_2"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[1]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_1" && restriction_dict[1]["Alcohol_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alcohol_1"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[1]["Cannabis_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[1]["Cocaina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[1]["Anfetamina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[1]["Inhalantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[1]["Tranquilizantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[1]["Alucinogenos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[1]["Opiaceos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[1]["Otros_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Otros_1"] = "false"}
      }
      if (answer_next[1] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[2]["Tabaco_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[2]["Alcohol_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[2]["Cannabis_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[2]["Cocaina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[2]["Anfetamina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[2]["Inhalantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[2]["Tranquilizantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[2]["Alucinogenos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[2]["Opiaceos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[2]["Otros_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Otros_1"] = "false"}
      }
      if (answer_next[2] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[3]["Tabaco_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[3]["Alcohol_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[3]["Cannabis_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[3]["Cocaina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[3]["Anfetamina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[3]["Inhalantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[3]["Tranquilizantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[3]["Alucinogenos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[3]["Opiaceos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[3]["Otros_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Otros_1"] = "false"}
      }
      if (answer_next[3] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[4]["Tabaco_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[4]["Alcohol_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[4]["Cannabis_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[4]["Cocaina_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[4]["Anfetamina_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[4]["Inhalantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[4]["Tranquilizantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[4]["Alucinogenos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[4]["Opiaceos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[4]["Otros_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Otros_1"] = "false"}
      }
      if (answer_next[4] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[5]["Tabaco_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[5]["Alcohol_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[5]["Cannabis_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[5]["Cocaina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[5]["Anfetamina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[5]["Inhalantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[5]["Tranquilizantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[5]["Alucinogenos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[5]["Opiaceos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[5]["Otros_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Otros_1"] = "false"}
      }
      if (answer_next[5] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[6]["Tabaco_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[6]["Alcohol_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[6]["Cannabis_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[6]["Cocaina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[6]["Anfetamina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[6]["Inhalantes_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[6]["Tranquilizantes_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[6]["Alucinogenos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[6]["Opiaceos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[6]["Otros_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Otros_1"] = "false"}
      }
      if (answer_next[6] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[7]["Tabaco_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[7]["Alcohol_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[7]["Cannabis_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[7]["Cocaina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[7]["Anfetamina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[7]["Inhalantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[7]["Tranquilizantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[7]["Alucinogenos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[7]["Opiaceos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[7]["Otros_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Otros_1"] = "false"}
      }
      if (answer_next[7] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[8]["Tabaco_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[8]["Alcohol_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[8]["Cannabis_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[8]["Cocaina_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[8]["Anfetamina_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[8]["Inhalantes_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[8]["Tranquilizantes_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[8]["Alucinogenos_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[8]["Opiaceos_1"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[8]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[8]["Otros_1"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[8]["Otros_1"] = "false"}
      }
      if (answer_next[8] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[9]["Tabaco_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[9]["Alcohol_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[9]["Cannabis_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[9]["Cocaina_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[9]["Anfetamina_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[9]["Inhalantes_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[9]["Tranquilizantes_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[9]["Alucinogenos_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_2" && restriction_dict[9]["Opiaceos_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Opiaceos_2"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[9]["Otros_1"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[9]["Otros_1"] = "false"}
      }
      if (answer_next[9] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[10]["Tabaco_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[10]["Alcohol_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[10]["Cannabis_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[10]["Cocaina_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[10]["Anfetamina_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[10]["Inhalantes_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[10]["Tranquilizantes_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[10]["Alucinogenos_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_2" && restriction_dict[10]["Opiaceos_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Opiaceos_2"] = "false"}
        if (element.trialid === "Otros_3" && restriction_dict[10]["Otros_3"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Otros_3"] = "false"}
      }
    })
    for (var i = 0; i < answer_previous.length; i++) 
      if (answer_previous[i] === 'true') 
        cont_prev += 1; 
    for (var j=0; j < answer_next.length; j++) 
      if (answer_next[j] === 'true')
        cont_next += 1; 
    if ((cont_next === 0 && cont_prev !== 0)) return true;
    return false 
  } 
} 

questions_experiment.push(if_question37);

var question38 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>En los últimos tres meses, ¿con qué frecuencia le ha llevado su consumo de inhalantes (colas, gasolina/nafta, pegamento, etc.) a problemas de salud, sociales, legales o económicos?</div>", options: ['Nunca.', '1 o 2 veces.', 'Cada mes.', 'Cada semana.', 'A diario o casi a diario.'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Inhalantes_4'}
}

var if_question38 = { 
  timeline:[question38], 
  conditional_function: function (){ 
    var data = jsPsych.data.get().values(); var cont_prev = 0; var cont_next = 0; 
    var restriction_dict = [{"Inhalantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Inhalantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Inhalantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Inhalantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Inhalantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Inhalantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Inhalantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Inhalantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Inhalantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Inhalantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Inhalantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}]; 
    var answer_previous = []
    var answer_next = []
    answer_previous = answer_previous.concat([""]) 
    answer_next = answer_next.concat(["","","","","","","","","",""]) 
    data.slice().reverse().forEach (function (element) { 
      if (answer_previous[0] !== "false"){
        if (element.trialid === "Inhalantes_1" && restriction_dict[0]["Inhalantes_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[0]["Inhalantes_1"] = "false"}
      }
      if (answer_next[0] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[1]["Tabaco_2"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[1]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_1" && restriction_dict[1]["Alcohol_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alcohol_1"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[1]["Cannabis_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[1]["Cocaina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[1]["Anfetamina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[1]["Inhalantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[1]["Tranquilizantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[1]["Alucinogenos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[1]["Opiaceos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[1]["Otros_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Otros_1"] = "false"}
      }
      if (answer_next[1] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[2]["Tabaco_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[2]["Alcohol_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[2]["Cannabis_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[2]["Cocaina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[2]["Anfetamina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[2]["Inhalantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[2]["Tranquilizantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[2]["Alucinogenos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[2]["Opiaceos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[2]["Otros_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Otros_1"] = "false"}
      }
      if (answer_next[2] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[3]["Tabaco_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[3]["Alcohol_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[3]["Cannabis_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[3]["Cocaina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[3]["Anfetamina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[3]["Inhalantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[3]["Tranquilizantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[3]["Alucinogenos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[3]["Opiaceos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[3]["Otros_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Otros_1"] = "false"}
      }
      if (answer_next[3] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[4]["Tabaco_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[4]["Alcohol_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[4]["Cannabis_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[4]["Cocaina_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[4]["Anfetamina_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[4]["Inhalantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[4]["Tranquilizantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[4]["Alucinogenos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[4]["Opiaceos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[4]["Otros_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Otros_1"] = "false"}
      }
      if (answer_next[4] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[5]["Tabaco_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[5]["Alcohol_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[5]["Cannabis_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[5]["Cocaina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[5]["Anfetamina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[5]["Inhalantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[5]["Tranquilizantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[5]["Alucinogenos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[5]["Opiaceos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[5]["Otros_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Otros_1"] = "false"}
      }
      if (answer_next[5] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[6]["Tabaco_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[6]["Alcohol_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[6]["Cannabis_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[6]["Cocaina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[6]["Anfetamina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[6]["Inhalantes_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[6]["Tranquilizantes_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[6]["Alucinogenos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[6]["Opiaceos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[6]["Otros_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Otros_1"] = "false"}
      }
      if (answer_next[6] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[7]["Tabaco_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[7]["Alcohol_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[7]["Cannabis_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[7]["Cocaina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[7]["Anfetamina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[7]["Inhalantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[7]["Tranquilizantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[7]["Alucinogenos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[7]["Opiaceos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[7]["Otros_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Otros_1"] = "false"}
      }
      if (answer_next[7] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[8]["Tabaco_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[8]["Alcohol_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[8]["Cannabis_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[8]["Cocaina_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[8]["Anfetamina_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[8]["Inhalantes_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[8]["Tranquilizantes_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[8]["Alucinogenos_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[8]["Opiaceos_1"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[8]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[8]["Otros_1"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[8]["Otros_1"] = "false"}
      }
      if (answer_next[8] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[9]["Tabaco_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[9]["Alcohol_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[9]["Cannabis_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[9]["Cocaina_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[9]["Anfetamina_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[9]["Inhalantes_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[9]["Tranquilizantes_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[9]["Alucinogenos_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_2" && restriction_dict[9]["Opiaceos_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Opiaceos_2"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[9]["Otros_1"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[9]["Otros_1"] = "false"}
      }
      if (answer_next[9] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[10]["Tabaco_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[10]["Alcohol_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[10]["Cannabis_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[10]["Cocaina_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[10]["Anfetamina_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[10]["Inhalantes_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[10]["Tranquilizantes_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[10]["Alucinogenos_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_2" && restriction_dict[10]["Opiaceos_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Opiaceos_2"] = "false"}
        if (element.trialid === "Otros_3" && restriction_dict[10]["Otros_3"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Otros_3"] = "false"}
      }
    })
    for (var i = 0; i < answer_previous.length; i++) 
      if (answer_previous[i] === 'true') 
        cont_prev += 1; 
    for (var j=0; j < answer_next.length; j++) 
      if (answer_next[j] === 'true')
        cont_next += 1; 
    if ((cont_next === 0 && cont_prev !== 0)) return true;
    return false 
  } 
} 

questions_experiment.push(if_question38);

var question39 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>En los últimos tres meses, ¿con qué frecuencia le ha llevado su consumo de tranquilizantes o pastillas para dormir (valium/diazepam, Trankimazin/Alprazolam/Xanax, Orfidal/Lorazepam, Rohipnol, etc.) a problemas de salud, sociales, legales o económicos?</div>", options: ['Nunca.', '1 o 2 veces.', 'Cada mes.', 'Cada semana.', 'A diario o casi a diario.'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Tranquilizantes_4'}
}

var if_question39 = { 
  timeline:[question39], 
  conditional_function: function (){ 
    var data = jsPsych.data.get().values(); var cont_prev = 0; var cont_next = 0; 
    var restriction_dict = [{"Tranquilizantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Tranquilizantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Tranquilizantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Tranquilizantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Tranquilizantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Tranquilizantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Tranquilizantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Tranquilizantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Tranquilizantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Tranquilizantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Tranquilizantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}]; 
    var answer_previous = []
    var answer_next = []
    answer_previous = answer_previous.concat([""]) 
    answer_next = answer_next.concat(["","","","","","","","","",""]) 
    data.slice().reverse().forEach (function (element) { 
      if (answer_previous[0] !== "false"){
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[0]["Tranquilizantes_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[0]["Tranquilizantes_1"] = "false"}
      }
      if (answer_next[0] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[1]["Tabaco_2"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[1]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_1" && restriction_dict[1]["Alcohol_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alcohol_1"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[1]["Cannabis_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[1]["Cocaina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[1]["Anfetamina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[1]["Inhalantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[1]["Tranquilizantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[1]["Alucinogenos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[1]["Opiaceos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[1]["Otros_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Otros_1"] = "false"}
      }
      if (answer_next[1] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[2]["Tabaco_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[2]["Alcohol_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[2]["Cannabis_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[2]["Cocaina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[2]["Anfetamina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[2]["Inhalantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[2]["Tranquilizantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[2]["Alucinogenos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[2]["Opiaceos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[2]["Otros_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Otros_1"] = "false"}
      }
      if (answer_next[2] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[3]["Tabaco_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[3]["Alcohol_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[3]["Cannabis_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[3]["Cocaina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[3]["Anfetamina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[3]["Inhalantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[3]["Tranquilizantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[3]["Alucinogenos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[3]["Opiaceos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[3]["Otros_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Otros_1"] = "false"}
      }
      if (answer_next[3] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[4]["Tabaco_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[4]["Alcohol_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[4]["Cannabis_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[4]["Cocaina_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[4]["Anfetamina_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[4]["Inhalantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[4]["Tranquilizantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[4]["Alucinogenos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[4]["Opiaceos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[4]["Otros_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Otros_1"] = "false"}
      }
      if (answer_next[4] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[5]["Tabaco_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[5]["Alcohol_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[5]["Cannabis_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[5]["Cocaina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[5]["Anfetamina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[5]["Inhalantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[5]["Tranquilizantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[5]["Alucinogenos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[5]["Opiaceos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[5]["Otros_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Otros_1"] = "false"}
      }
      if (answer_next[5] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[6]["Tabaco_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[6]["Alcohol_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[6]["Cannabis_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[6]["Cocaina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[6]["Anfetamina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[6]["Inhalantes_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[6]["Tranquilizantes_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[6]["Alucinogenos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[6]["Opiaceos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[6]["Otros_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Otros_1"] = "false"}
      }
      if (answer_next[6] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[7]["Tabaco_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[7]["Alcohol_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[7]["Cannabis_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[7]["Cocaina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[7]["Anfetamina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[7]["Inhalantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[7]["Tranquilizantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[7]["Alucinogenos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[7]["Opiaceos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[7]["Otros_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Otros_1"] = "false"}
      }
      if (answer_next[7] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[8]["Tabaco_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[8]["Alcohol_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[8]["Cannabis_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[8]["Cocaina_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[8]["Anfetamina_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[8]["Inhalantes_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[8]["Tranquilizantes_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[8]["Alucinogenos_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[8]["Opiaceos_1"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[8]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[8]["Otros_1"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[8]["Otros_1"] = "false"}
      }
      if (answer_next[8] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[9]["Tabaco_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[9]["Alcohol_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[9]["Cannabis_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[9]["Cocaina_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[9]["Anfetamina_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[9]["Inhalantes_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[9]["Tranquilizantes_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[9]["Alucinogenos_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_2" && restriction_dict[9]["Opiaceos_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Opiaceos_2"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[9]["Otros_1"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[9]["Otros_1"] = "false"}
      }
      if (answer_next[9] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[10]["Tabaco_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[10]["Alcohol_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[10]["Cannabis_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[10]["Cocaina_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[10]["Anfetamina_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[10]["Inhalantes_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[10]["Tranquilizantes_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[10]["Alucinogenos_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_2" && restriction_dict[10]["Opiaceos_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Opiaceos_2"] = "false"}
        if (element.trialid === "Otros_3" && restriction_dict[10]["Otros_3"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Otros_3"] = "false"}
      }
    })
    for (var i = 0; i < answer_previous.length; i++) 
      if (answer_previous[i] === 'true') 
        cont_prev += 1; 
    for (var j=0; j < answer_next.length; j++) 
      if (answer_next[j] === 'true')
        cont_next += 1; 
    if ((cont_next === 0 && cont_prev !== 0)) return true;
    return false 
  } 
} 

questions_experiment.push(if_question39);

var question40 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>En los últimos tres meses, ¿con qué frecuencia le ha llevado su consumo de alucinógenos (LSD, ácidos, ketamina, PCP, etc.) a problemas de salud, sociales, legales o económicos?</div>", options: ['Nunca.', '1 o 2 veces.', 'Cada mes.', 'Cada semana.', 'A diario o casi a diario.'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Alucinogenos_4'}
}

var if_question40 = { 
  timeline:[question40], 
  conditional_function: function (){ 
    var data = jsPsych.data.get().values(); var cont_prev = 0; var cont_next = 0; 
    var restriction_dict = [{"Alucinogenos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Alucinogenos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Alucinogenos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Alucinogenos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Alucinogenos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Alucinogenos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Alucinogenos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Alucinogenos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Alucinogenos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Alucinogenos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Alucinogenos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}]; 
    var answer_previous = []
    var answer_next = []
    answer_previous = answer_previous.concat([""]) 
    answer_next = answer_next.concat(["","","","","","","","","",""]) 
    data.slice().reverse().forEach (function (element) { 
      if (answer_previous[0] !== "false"){
        if (element.trialid === "Alucinogenos_1" && restriction_dict[0]["Alucinogenos_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[0]["Alucinogenos_1"] = "false"}
      }
      if (answer_next[0] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[1]["Tabaco_2"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[1]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_1" && restriction_dict[1]["Alcohol_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alcohol_1"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[1]["Cannabis_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[1]["Cocaina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[1]["Anfetamina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[1]["Inhalantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[1]["Tranquilizantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[1]["Alucinogenos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[1]["Opiaceos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[1]["Otros_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Otros_1"] = "false"}
      }
      if (answer_next[1] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[2]["Tabaco_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[2]["Alcohol_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[2]["Cannabis_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[2]["Cocaina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[2]["Anfetamina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[2]["Inhalantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[2]["Tranquilizantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[2]["Alucinogenos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[2]["Opiaceos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[2]["Otros_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Otros_1"] = "false"}
      }
      if (answer_next[2] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[3]["Tabaco_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[3]["Alcohol_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[3]["Cannabis_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[3]["Cocaina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[3]["Anfetamina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[3]["Inhalantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[3]["Tranquilizantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[3]["Alucinogenos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[3]["Opiaceos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[3]["Otros_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Otros_1"] = "false"}
      }
      if (answer_next[3] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[4]["Tabaco_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[4]["Alcohol_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[4]["Cannabis_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[4]["Cocaina_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[4]["Anfetamina_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[4]["Inhalantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[4]["Tranquilizantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[4]["Alucinogenos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[4]["Opiaceos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[4]["Otros_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Otros_1"] = "false"}
      }
      if (answer_next[4] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[5]["Tabaco_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[5]["Alcohol_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[5]["Cannabis_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[5]["Cocaina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[5]["Anfetamina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[5]["Inhalantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[5]["Tranquilizantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[5]["Alucinogenos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[5]["Opiaceos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[5]["Otros_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Otros_1"] = "false"}
      }
      if (answer_next[5] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[6]["Tabaco_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[6]["Alcohol_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[6]["Cannabis_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[6]["Cocaina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[6]["Anfetamina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[6]["Inhalantes_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[6]["Tranquilizantes_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[6]["Alucinogenos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[6]["Opiaceos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[6]["Otros_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Otros_1"] = "false"}
      }
      if (answer_next[6] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[7]["Tabaco_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[7]["Alcohol_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[7]["Cannabis_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[7]["Cocaina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[7]["Anfetamina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[7]["Inhalantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[7]["Tranquilizantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[7]["Alucinogenos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[7]["Opiaceos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[7]["Otros_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Otros_1"] = "false"}
      }
      if (answer_next[7] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[8]["Tabaco_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[8]["Alcohol_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[8]["Cannabis_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[8]["Cocaina_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[8]["Anfetamina_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[8]["Inhalantes_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[8]["Tranquilizantes_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[8]["Alucinogenos_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[8]["Opiaceos_1"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[8]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[8]["Otros_1"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[8]["Otros_1"] = "false"}
      }
      if (answer_next[8] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[9]["Tabaco_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[9]["Alcohol_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[9]["Cannabis_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[9]["Cocaina_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[9]["Anfetamina_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[9]["Inhalantes_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[9]["Tranquilizantes_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[9]["Alucinogenos_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_2" && restriction_dict[9]["Opiaceos_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Opiaceos_2"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[9]["Otros_1"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[9]["Otros_1"] = "false"}
      }
      if (answer_next[9] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[10]["Tabaco_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[10]["Alcohol_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[10]["Cannabis_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[10]["Cocaina_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[10]["Anfetamina_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[10]["Inhalantes_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[10]["Tranquilizantes_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[10]["Alucinogenos_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_2" && restriction_dict[10]["Opiaceos_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Opiaceos_2"] = "false"}
        if (element.trialid === "Otros_3" && restriction_dict[10]["Otros_3"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Otros_3"] = "false"}
      }
    })
    for (var i = 0; i < answer_previous.length; i++) 
      if (answer_previous[i] === 'true') 
        cont_prev += 1; 
    for (var j=0; j < answer_next.length; j++) 
      if (answer_next[j] === 'true')
        cont_next += 1; 
    if ((cont_next === 0 && cont_prev !== 0)) return true;
    return false 
  } 
} 

questions_experiment.push(if_question40);

var question41 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>En los últimos tres meses, ¿con qué frecuencia le ha llevado su consumo de opiáceos (heroína, metadona, codeína, morfina, dolantina/petidina, etc.) a problemas de salud, sociales, legales o económicos?</div>", options: ['Nunca.', '1 o 2 veces.', 'Cada mes.', 'Cada semana.', 'A diario o casi a diario.'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Opiaceos_4'}
}

var if_question41 = { 
  timeline:[question41], 
  conditional_function: function (){ 
    var data = jsPsych.data.get().values(); var cont_prev = 0; var cont_next = 0; 
    var restriction_dict = [{"Opiaceos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Opiaceos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Opiaceos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Opiaceos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Opiaceos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Opiaceos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Opiaceos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Opiaceos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Opiaceos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Opiaceos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Opiaceos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}]; 
    var answer_previous = []
    var answer_next = []
    answer_previous = answer_previous.concat([""]) 
    answer_next = answer_next.concat(["","","","","","","","","",""]) 
    data.slice().reverse().forEach (function (element) { 
      if (answer_previous[0] !== "false"){
        if (element.trialid === "Opiaceos_1" && restriction_dict[0]["Opiaceos_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[0]["Opiaceos_1"] = "false"}
      }
      if (answer_next[0] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[1]["Tabaco_2"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[1]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_1" && restriction_dict[1]["Alcohol_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alcohol_1"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[1]["Cannabis_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[1]["Cocaina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[1]["Anfetamina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[1]["Inhalantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[1]["Tranquilizantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[1]["Alucinogenos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[1]["Opiaceos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[1]["Otros_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Otros_1"] = "false"}
      }
      if (answer_next[1] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[2]["Tabaco_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[2]["Alcohol_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[2]["Cannabis_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[2]["Cocaina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[2]["Anfetamina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[2]["Inhalantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[2]["Tranquilizantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[2]["Alucinogenos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[2]["Opiaceos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[2]["Otros_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Otros_1"] = "false"}
      }
      if (answer_next[2] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[3]["Tabaco_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[3]["Alcohol_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[3]["Cannabis_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[3]["Cocaina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[3]["Anfetamina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[3]["Inhalantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[3]["Tranquilizantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[3]["Alucinogenos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[3]["Opiaceos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[3]["Otros_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Otros_1"] = "false"}
      }
      if (answer_next[3] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[4]["Tabaco_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[4]["Alcohol_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[4]["Cannabis_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[4]["Cocaina_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[4]["Anfetamina_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[4]["Inhalantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[4]["Tranquilizantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[4]["Alucinogenos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[4]["Opiaceos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[4]["Otros_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Otros_1"] = "false"}
      }
      if (answer_next[4] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[5]["Tabaco_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[5]["Alcohol_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[5]["Cannabis_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[5]["Cocaina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[5]["Anfetamina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[5]["Inhalantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[5]["Tranquilizantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[5]["Alucinogenos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[5]["Opiaceos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[5]["Otros_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Otros_1"] = "false"}
      }
      if (answer_next[5] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[6]["Tabaco_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[6]["Alcohol_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[6]["Cannabis_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[6]["Cocaina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[6]["Anfetamina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[6]["Inhalantes_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[6]["Tranquilizantes_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[6]["Alucinogenos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[6]["Opiaceos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[6]["Otros_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Otros_1"] = "false"}
      }
      if (answer_next[6] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[7]["Tabaco_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[7]["Alcohol_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[7]["Cannabis_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[7]["Cocaina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[7]["Anfetamina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[7]["Inhalantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[7]["Tranquilizantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[7]["Alucinogenos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[7]["Opiaceos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[7]["Otros_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Otros_1"] = "false"}
      }
      if (answer_next[7] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[8]["Tabaco_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[8]["Alcohol_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[8]["Cannabis_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[8]["Cocaina_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[8]["Anfetamina_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[8]["Inhalantes_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[8]["Tranquilizantes_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[8]["Alucinogenos_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[8]["Opiaceos_1"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[8]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[8]["Otros_1"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[8]["Otros_1"] = "false"}
      }
      if (answer_next[8] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[9]["Tabaco_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[9]["Alcohol_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[9]["Cannabis_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[9]["Cocaina_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[9]["Anfetamina_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[9]["Inhalantes_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[9]["Tranquilizantes_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[9]["Alucinogenos_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_2" && restriction_dict[9]["Opiaceos_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Opiaceos_2"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[9]["Otros_1"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[9]["Otros_1"] = "false"}
      }
      if (answer_next[9] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[10]["Tabaco_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[10]["Alcohol_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[10]["Cannabis_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[10]["Cocaina_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[10]["Anfetamina_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[10]["Inhalantes_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[10]["Tranquilizantes_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[10]["Alucinogenos_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_2" && restriction_dict[10]["Opiaceos_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Opiaceos_2"] = "false"}
        if (element.trialid === "Otros_3" && restriction_dict[10]["Otros_3"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Otros_3"] = "false"}
      }
    })
    for (var i = 0; i < answer_previous.length; i++) 
      if (answer_previous[i] === 'true') 
        cont_prev += 1; 
    for (var j=0; j < answer_next.length; j++) 
      if (answer_next[j] === 'true')
        cont_next += 1; 
    if ((cont_next === 0 && cont_prev !== 0)) return true;
    return false 
  } 
} 

questions_experiment.push(if_question41);

var question42 = {
  type:'survey-multi-choice',
  questions:[{prompt: '',options: ['']}],
  on_start: function(trial) {
    trial.questions = [{prompt: "<div class='justified'>En los últimos tres meses, ¿con qué frecuencia le ha llevado su consumo de "+variables["otra_sustancia"]+" a problemas de salud, sociales, legales o económicos?</div>", options: ['Nunca.', '1 o 2 veces.', 'Cada mes.', 'Cada semana.', 'A diario o casi a diario.'], required: true, horizontal: false, not_enabled_options: 0}];
  },
  data: {trialid: 'Otros_5'}
}

var if_question42 = { 
  timeline:[question42], 
  conditional_function: function (){ 
    var data = jsPsych.data.get().values(); var cont_prev = 0; var cont_next = 0; 
    var restriction_dict = [{"Otros_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Otros_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Otros_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Otros_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Otros_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Otros_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Otros_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Otros_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Otros_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Otros_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Otros_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}]; 
    var answer_previous = []
    var answer_next = []
    answer_previous = answer_previous.concat([""]) 
    answer_next = answer_next.concat(["","","","","","","","","",""]) 
    data.slice().reverse().forEach (function (element) { 
      if (answer_previous[0] !== "false"){
        if (element.trialid === "Otros_1" && restriction_dict[0]["Otros_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[0]["Otros_1"] = "false"}
      }
      if (answer_next[0] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[1]["Tabaco_2"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[1]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_1" && restriction_dict[1]["Alcohol_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alcohol_1"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[1]["Cannabis_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[1]["Cocaina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[1]["Anfetamina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[1]["Inhalantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[1]["Tranquilizantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[1]["Alucinogenos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[1]["Opiaceos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[1]["Otros_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Otros_1"] = "false"}
      }
      if (answer_next[1] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[2]["Tabaco_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[2]["Alcohol_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[2]["Cannabis_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[2]["Cocaina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[2]["Anfetamina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[2]["Inhalantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[2]["Tranquilizantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[2]["Alucinogenos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[2]["Opiaceos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[2]["Otros_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Otros_1"] = "false"}
      }
      if (answer_next[2] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[3]["Tabaco_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[3]["Alcohol_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[3]["Cannabis_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[3]["Cocaina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[3]["Anfetamina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[3]["Inhalantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[3]["Tranquilizantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[3]["Alucinogenos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[3]["Opiaceos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[3]["Otros_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Otros_1"] = "false"}
      }
      if (answer_next[3] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[4]["Tabaco_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[4]["Alcohol_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[4]["Cannabis_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[4]["Cocaina_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[4]["Anfetamina_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[4]["Inhalantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[4]["Tranquilizantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[4]["Alucinogenos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[4]["Opiaceos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[4]["Otros_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Otros_1"] = "false"}
      }
      if (answer_next[4] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[5]["Tabaco_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[5]["Alcohol_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[5]["Cannabis_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[5]["Cocaina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[5]["Anfetamina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[5]["Inhalantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[5]["Tranquilizantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[5]["Alucinogenos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[5]["Opiaceos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[5]["Otros_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Otros_1"] = "false"}
      }
      if (answer_next[5] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[6]["Tabaco_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[6]["Alcohol_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[6]["Cannabis_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[6]["Cocaina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[6]["Anfetamina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[6]["Inhalantes_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[6]["Tranquilizantes_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[6]["Alucinogenos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[6]["Opiaceos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[6]["Otros_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Otros_1"] = "false"}
      }
      if (answer_next[6] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[7]["Tabaco_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[7]["Alcohol_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[7]["Cannabis_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[7]["Cocaina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[7]["Anfetamina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[7]["Inhalantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[7]["Tranquilizantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[7]["Alucinogenos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[7]["Opiaceos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[7]["Otros_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Otros_1"] = "false"}
      }
      if (answer_next[7] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[8]["Tabaco_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[8]["Alcohol_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[8]["Cannabis_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[8]["Cocaina_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[8]["Anfetamina_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[8]["Inhalantes_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[8]["Tranquilizantes_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[8]["Alucinogenos_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[8]["Opiaceos_1"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[8]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[8]["Otros_1"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[8]["Otros_1"] = "false"}
      }
      if (answer_next[8] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[9]["Tabaco_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[9]["Alcohol_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[9]["Cannabis_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[9]["Cocaina_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[9]["Anfetamina_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[9]["Inhalantes_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[9]["Tranquilizantes_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[9]["Alucinogenos_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_2" && restriction_dict[9]["Opiaceos_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Opiaceos_2"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[9]["Otros_1"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[9]["Otros_1"] = "false"}
      }
      if (answer_next[9] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[10]["Tabaco_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[10]["Alcohol_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[10]["Cannabis_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[10]["Cocaina_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[10]["Anfetamina_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[10]["Inhalantes_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[10]["Tranquilizantes_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[10]["Alucinogenos_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_2" && restriction_dict[10]["Opiaceos_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Opiaceos_2"] = "false"}
        if (element.trialid === "Otros_3" && restriction_dict[10]["Otros_3"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Otros_3"] = "false"}
      }
    })
    variable:otra_sustancia = variables['variable:otra_sustancia']; 
    for (var i = 0; i < answer_previous.length; i++) 
      if (answer_previous[i] === 'true') 
        cont_prev += 1; 
    for (var j=0; j < answer_next.length; j++) 
      if (answer_next[j] === 'true')
        cont_next += 1; 
    if ((cont_next === 0 && cont_prev !== 0)) return true;
    return false 
  } 
} 

questions_experiment.push(if_question42);

var question43 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>En los últimos tres meses, ¿con qué frecuencia dejó de hacer lo que se esperaba de usted habitualmente por el consumo de bebidas alcohólicas (cerveza, vino, licores, destilados, etc.)?</div>", options: ['Nunca.', '1 o 2 veces.', 'Cada mes.', 'Cada semana.', 'A diario o casi a diario.'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Alcohol_5'}
}

var if_question43 = { 
  timeline:[question43], 
  conditional_function: function (){ 
    var data = jsPsych.data.get().values(); var cont_prev = 0; var cont_next = 0; 
    var restriction_dict = [{"Alcohol_1": "true", "Tabaco_2": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Alcohol_1": "true", "Tabaco_2": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Alcohol_1": "true", "Tabaco_2": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Alcohol_1": "true", "Tabaco_2": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Alcohol_1": "true", "Tabaco_2": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Alcohol_1": "true", "Tabaco_2": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Alcohol_1": "true", "Tabaco_2": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Alcohol_1": "true", "Tabaco_2": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Alcohol_1": "true", "Tabaco_2": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Alcohol_1": "true", "Tabaco_2": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Alcohol_1": "true", "Tabaco_2": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}]; 
    var answer_previous = []
    var answer_next = []
    answer_previous = answer_previous.concat([""]) 
    answer_next = answer_next.concat(["","","","","","","","","",""]) 
    data.slice().reverse().forEach (function (element) { 
      if (answer_previous[0] !== "false"){
        if (element.trialid === "Alcohol_1" && restriction_dict[0]["Alcohol_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[0]["Alcohol_1"] = "false"}
      }
      if (answer_next[0] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[1]["Tabaco_2"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[1]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_1" && restriction_dict[1]["Alcohol_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alcohol_1"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[1]["Cannabis_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[1]["Cocaina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[1]["Anfetamina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[1]["Inhalantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[1]["Tranquilizantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[1]["Alucinogenos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[1]["Opiaceos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[1]["Otros_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Otros_1"] = "false"}
      }
      if (answer_next[1] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[2]["Tabaco_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[2]["Alcohol_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[2]["Cannabis_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[2]["Cocaina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[2]["Anfetamina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[2]["Inhalantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[2]["Tranquilizantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[2]["Alucinogenos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[2]["Opiaceos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[2]["Otros_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Otros_1"] = "false"}
      }
      if (answer_next[2] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[3]["Tabaco_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[3]["Alcohol_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[3]["Cannabis_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[3]["Cocaina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[3]["Anfetamina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[3]["Inhalantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[3]["Tranquilizantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[3]["Alucinogenos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[3]["Opiaceos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[3]["Otros_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Otros_1"] = "false"}
      }
      if (answer_next[3] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[4]["Tabaco_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[4]["Alcohol_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[4]["Cannabis_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[4]["Cocaina_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[4]["Anfetamina_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[4]["Inhalantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[4]["Tranquilizantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[4]["Alucinogenos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[4]["Opiaceos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[4]["Otros_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Otros_1"] = "false"}
      }
      if (answer_next[4] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[5]["Tabaco_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[5]["Alcohol_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[5]["Cannabis_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[5]["Cocaina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[5]["Anfetamina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[5]["Inhalantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[5]["Tranquilizantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[5]["Alucinogenos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[5]["Opiaceos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[5]["Otros_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Otros_1"] = "false"}
      }
      if (answer_next[5] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[6]["Tabaco_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[6]["Alcohol_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[6]["Cannabis_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[6]["Cocaina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[6]["Anfetamina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[6]["Inhalantes_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[6]["Tranquilizantes_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[6]["Alucinogenos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[6]["Opiaceos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[6]["Otros_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Otros_1"] = "false"}
      }
      if (answer_next[6] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[7]["Tabaco_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[7]["Alcohol_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[7]["Cannabis_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[7]["Cocaina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[7]["Anfetamina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[7]["Inhalantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[7]["Tranquilizantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[7]["Alucinogenos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[7]["Opiaceos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[7]["Otros_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Otros_1"] = "false"}
      }
      if (answer_next[7] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[8]["Tabaco_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[8]["Alcohol_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[8]["Cannabis_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[8]["Cocaina_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[8]["Anfetamina_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[8]["Inhalantes_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[8]["Tranquilizantes_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[8]["Alucinogenos_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[8]["Opiaceos_1"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[8]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[8]["Otros_1"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[8]["Otros_1"] = "false"}
      }
      if (answer_next[8] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[9]["Tabaco_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[9]["Alcohol_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[9]["Cannabis_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[9]["Cocaina_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[9]["Anfetamina_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[9]["Inhalantes_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[9]["Tranquilizantes_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[9]["Alucinogenos_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_2" && restriction_dict[9]["Opiaceos_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Opiaceos_2"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[9]["Otros_1"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[9]["Otros_1"] = "false"}
      }
      if (answer_next[9] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[10]["Tabaco_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[10]["Alcohol_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[10]["Cannabis_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[10]["Cocaina_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[10]["Anfetamina_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[10]["Inhalantes_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[10]["Tranquilizantes_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[10]["Alucinogenos_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_2" && restriction_dict[10]["Opiaceos_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Opiaceos_2"] = "false"}
        if (element.trialid === "Otros_3" && restriction_dict[10]["Otros_3"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Otros_3"] = "false"}
      }
    })
    for (var i = 0; i < answer_previous.length; i++) 
      if (answer_previous[i] === 'true') 
        cont_prev += 1; 
    for (var j=0; j < answer_next.length; j++) 
      if (answer_next[j] === 'true')
        cont_next += 1; 
    if ((cont_next === 0 && cont_prev !== 0)) return true;
    return false 
  } 
} 

questions_experiment.push(if_question43);

var question44 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>En los últimos tres meses, ¿con qué frecuencia dejó de hacer lo que se esperaba de usted habitualmente por el consumo de cannabis (marihuana, costo, hierba, hashish, etc.)?</div>", options: ['Nunca.', '1 o 2 veces.', 'Cada mes.', 'Cada semana.', 'A diario o casi a diario.'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Cannabis_5'}
}

var if_question44 = { 
  timeline:[question44], 
  conditional_function: function (){ 
    var data = jsPsych.data.get().values(); var cont_prev = 0; var cont_next = 0; 
    var restriction_dict = [{"Cannabis_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Cannabis_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Cannabis_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Cannabis_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Cannabis_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Cannabis_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Cannabis_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Cannabis_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Cannabis_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Cannabis_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Cannabis_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}]; 
    var answer_previous = []
    var answer_next = []
    answer_previous = answer_previous.concat([""]) 
    answer_next = answer_next.concat(["","","","","","","","","",""]) 
    data.slice().reverse().forEach (function (element) { 
      if (answer_previous[0] !== "false"){
        if (element.trialid === "Cannabis_1" && restriction_dict[0]["Cannabis_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[0]["Cannabis_1"] = "false"}
      }
      if (answer_next[0] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[1]["Tabaco_2"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[1]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_1" && restriction_dict[1]["Alcohol_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alcohol_1"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[1]["Cannabis_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[1]["Cocaina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[1]["Anfetamina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[1]["Inhalantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[1]["Tranquilizantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[1]["Alucinogenos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[1]["Opiaceos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[1]["Otros_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Otros_1"] = "false"}
      }
      if (answer_next[1] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[2]["Tabaco_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[2]["Alcohol_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[2]["Cannabis_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[2]["Cocaina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[2]["Anfetamina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[2]["Inhalantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[2]["Tranquilizantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[2]["Alucinogenos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[2]["Opiaceos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[2]["Otros_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Otros_1"] = "false"}
      }
      if (answer_next[2] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[3]["Tabaco_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[3]["Alcohol_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[3]["Cannabis_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[3]["Cocaina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[3]["Anfetamina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[3]["Inhalantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[3]["Tranquilizantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[3]["Alucinogenos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[3]["Opiaceos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[3]["Otros_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Otros_1"] = "false"}
      }
      if (answer_next[3] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[4]["Tabaco_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[4]["Alcohol_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[4]["Cannabis_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[4]["Cocaina_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[4]["Anfetamina_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[4]["Inhalantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[4]["Tranquilizantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[4]["Alucinogenos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[4]["Opiaceos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[4]["Otros_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Otros_1"] = "false"}
      }
      if (answer_next[4] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[5]["Tabaco_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[5]["Alcohol_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[5]["Cannabis_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[5]["Cocaina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[5]["Anfetamina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[5]["Inhalantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[5]["Tranquilizantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[5]["Alucinogenos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[5]["Opiaceos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[5]["Otros_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Otros_1"] = "false"}
      }
      if (answer_next[5] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[6]["Tabaco_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[6]["Alcohol_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[6]["Cannabis_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[6]["Cocaina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[6]["Anfetamina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[6]["Inhalantes_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[6]["Tranquilizantes_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[6]["Alucinogenos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[6]["Opiaceos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[6]["Otros_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Otros_1"] = "false"}
      }
      if (answer_next[6] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[7]["Tabaco_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[7]["Alcohol_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[7]["Cannabis_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[7]["Cocaina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[7]["Anfetamina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[7]["Inhalantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[7]["Tranquilizantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[7]["Alucinogenos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[7]["Opiaceos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[7]["Otros_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Otros_1"] = "false"}
      }
      if (answer_next[7] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[8]["Tabaco_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[8]["Alcohol_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[8]["Cannabis_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[8]["Cocaina_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[8]["Anfetamina_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[8]["Inhalantes_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[8]["Tranquilizantes_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[8]["Alucinogenos_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[8]["Opiaceos_1"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[8]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[8]["Otros_1"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[8]["Otros_1"] = "false"}
      }
      if (answer_next[8] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[9]["Tabaco_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[9]["Alcohol_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[9]["Cannabis_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[9]["Cocaina_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[9]["Anfetamina_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[9]["Inhalantes_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[9]["Tranquilizantes_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[9]["Alucinogenos_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_2" && restriction_dict[9]["Opiaceos_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Opiaceos_2"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[9]["Otros_1"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[9]["Otros_1"] = "false"}
      }
      if (answer_next[9] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[10]["Tabaco_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[10]["Alcohol_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[10]["Cannabis_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[10]["Cocaina_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[10]["Anfetamina_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[10]["Inhalantes_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[10]["Tranquilizantes_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[10]["Alucinogenos_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_2" && restriction_dict[10]["Opiaceos_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Opiaceos_2"] = "false"}
        if (element.trialid === "Otros_3" && restriction_dict[10]["Otros_3"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Otros_3"] = "false"}
      }
    })
    for (var i = 0; i < answer_previous.length; i++) 
      if (answer_previous[i] === 'true') 
        cont_prev += 1; 
    for (var j=0; j < answer_next.length; j++) 
      if (answer_next[j] === 'true')
        cont_next += 1; 
    if ((cont_next === 0 && cont_prev !== 0)) return true;
    return false 
  } 
} 

questions_experiment.push(if_question44);

var question45 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>En los últimos tres meses, ¿con qué frecuencia dejó de hacer lo que se esperaba de usted habitualmente por el consumo de cocaína (coca, farlopa, crack, base, etc.)?</div>", options: ['Nunca.', '1 o 2 veces.', 'Cada mes.', 'Cada semana.', 'A diario o casi a diario.'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Cocaina_5'}
}

var if_question45 = { 
  timeline:[question45], 
  conditional_function: function (){ 
    var data = jsPsych.data.get().values(); var cont_prev = 0; var cont_next = 0; 
    var restriction_dict = [{"Cocaina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Cocaina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Cocaina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Cocaina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Cocaina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Cocaina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Cocaina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Cocaina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Cocaina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Cocaina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Cocaina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}]; 
    var answer_previous = []
    var answer_next = []
    answer_previous = answer_previous.concat([""]) 
    answer_next = answer_next.concat(["","","","","","","","","",""]) 
    data.slice().reverse().forEach (function (element) { 
      if (answer_previous[0] !== "false"){
        if (element.trialid === "Cocaina_1" && restriction_dict[0]["Cocaina_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[0]["Cocaina_1"] = "false"}
      }
      if (answer_next[0] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[1]["Tabaco_2"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[1]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_1" && restriction_dict[1]["Alcohol_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alcohol_1"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[1]["Cannabis_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[1]["Cocaina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[1]["Anfetamina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[1]["Inhalantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[1]["Tranquilizantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[1]["Alucinogenos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[1]["Opiaceos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[1]["Otros_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Otros_1"] = "false"}
      }
      if (answer_next[1] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[2]["Tabaco_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[2]["Alcohol_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[2]["Cannabis_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[2]["Cocaina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[2]["Anfetamina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[2]["Inhalantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[2]["Tranquilizantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[2]["Alucinogenos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[2]["Opiaceos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[2]["Otros_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Otros_1"] = "false"}
      }
      if (answer_next[2] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[3]["Tabaco_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[3]["Alcohol_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[3]["Cannabis_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[3]["Cocaina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[3]["Anfetamina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[3]["Inhalantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[3]["Tranquilizantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[3]["Alucinogenos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[3]["Opiaceos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[3]["Otros_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Otros_1"] = "false"}
      }
      if (answer_next[3] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[4]["Tabaco_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[4]["Alcohol_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[4]["Cannabis_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[4]["Cocaina_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[4]["Anfetamina_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[4]["Inhalantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[4]["Tranquilizantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[4]["Alucinogenos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[4]["Opiaceos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[4]["Otros_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Otros_1"] = "false"}
      }
      if (answer_next[4] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[5]["Tabaco_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[5]["Alcohol_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[5]["Cannabis_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[5]["Cocaina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[5]["Anfetamina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[5]["Inhalantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[5]["Tranquilizantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[5]["Alucinogenos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[5]["Opiaceos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[5]["Otros_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Otros_1"] = "false"}
      }
      if (answer_next[5] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[6]["Tabaco_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[6]["Alcohol_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[6]["Cannabis_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[6]["Cocaina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[6]["Anfetamina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[6]["Inhalantes_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[6]["Tranquilizantes_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[6]["Alucinogenos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[6]["Opiaceos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[6]["Otros_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Otros_1"] = "false"}
      }
      if (answer_next[6] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[7]["Tabaco_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[7]["Alcohol_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[7]["Cannabis_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[7]["Cocaina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[7]["Anfetamina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[7]["Inhalantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[7]["Tranquilizantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[7]["Alucinogenos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[7]["Opiaceos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[7]["Otros_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Otros_1"] = "false"}
      }
      if (answer_next[7] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[8]["Tabaco_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[8]["Alcohol_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[8]["Cannabis_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[8]["Cocaina_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[8]["Anfetamina_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[8]["Inhalantes_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[8]["Tranquilizantes_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[8]["Alucinogenos_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[8]["Opiaceos_1"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[8]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[8]["Otros_1"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[8]["Otros_1"] = "false"}
      }
      if (answer_next[8] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[9]["Tabaco_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[9]["Alcohol_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[9]["Cannabis_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[9]["Cocaina_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[9]["Anfetamina_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[9]["Inhalantes_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[9]["Tranquilizantes_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[9]["Alucinogenos_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_2" && restriction_dict[9]["Opiaceos_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Opiaceos_2"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[9]["Otros_1"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[9]["Otros_1"] = "false"}
      }
      if (answer_next[9] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[10]["Tabaco_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[10]["Alcohol_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[10]["Cannabis_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[10]["Cocaina_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[10]["Anfetamina_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[10]["Inhalantes_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[10]["Tranquilizantes_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[10]["Alucinogenos_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_2" && restriction_dict[10]["Opiaceos_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Opiaceos_2"] = "false"}
        if (element.trialid === "Otros_3" && restriction_dict[10]["Otros_3"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Otros_3"] = "false"}
      }
    })
    for (var i = 0; i < answer_previous.length; i++) 
      if (answer_previous[i] === 'true') 
        cont_prev += 1; 
    for (var j=0; j < answer_next.length; j++) 
      if (answer_next[j] === 'true')
        cont_next += 1; 
    if ((cont_next === 0 && cont_prev !== 0)) return true;
    return false 
  } 
} 

questions_experiment.push(if_question45);

var question46 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>En los últimos tres meses, ¿con qué frecuencia dejó de hacer lo que se esperaba de usted habitualmente por el consumo de anfetaminas u otro tipo de estimulantes (speed, éxtasis, píldoras adelgazantes, etc.)?</div>", options: ['Nunca.', '1 o 2 veces.', 'Cada mes.', 'Cada semana.', 'A diario o casi a diario.'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Anfetamina_5'}
}

var if_question46 = { 
  timeline:[question46], 
  conditional_function: function (){ 
    var data = jsPsych.data.get().values(); var cont_prev = 0; var cont_next = 0; 
    var restriction_dict = [{"Anfetamina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Anfetamina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Anfetamina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Anfetamina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Anfetamina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Anfetamina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Anfetamina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Anfetamina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Anfetamina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Anfetamina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Anfetamina_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}]; 
    var answer_previous = []
    var answer_next = []
    answer_previous = answer_previous.concat([""]) 
    answer_next = answer_next.concat(["","","","","","","","","",""]) 
    data.slice().reverse().forEach (function (element) { 
      if (answer_previous[0] !== "false"){
        if (element.trialid === "Anfetamina_1" && restriction_dict[0]["Anfetamina_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[0]["Anfetamina_1"] = "false"}
      }
      if (answer_next[0] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[1]["Tabaco_2"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[1]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_1" && restriction_dict[1]["Alcohol_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alcohol_1"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[1]["Cannabis_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[1]["Cocaina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[1]["Anfetamina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[1]["Inhalantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[1]["Tranquilizantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[1]["Alucinogenos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[1]["Opiaceos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[1]["Otros_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Otros_1"] = "false"}
      }
      if (answer_next[1] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[2]["Tabaco_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[2]["Alcohol_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[2]["Cannabis_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[2]["Cocaina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[2]["Anfetamina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[2]["Inhalantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[2]["Tranquilizantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[2]["Alucinogenos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[2]["Opiaceos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[2]["Otros_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Otros_1"] = "false"}
      }
      if (answer_next[2] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[3]["Tabaco_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[3]["Alcohol_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[3]["Cannabis_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[3]["Cocaina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[3]["Anfetamina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[3]["Inhalantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[3]["Tranquilizantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[3]["Alucinogenos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[3]["Opiaceos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[3]["Otros_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Otros_1"] = "false"}
      }
      if (answer_next[3] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[4]["Tabaco_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[4]["Alcohol_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[4]["Cannabis_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[4]["Cocaina_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[4]["Anfetamina_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[4]["Inhalantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[4]["Tranquilizantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[4]["Alucinogenos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[4]["Opiaceos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[4]["Otros_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Otros_1"] = "false"}
      }
      if (answer_next[4] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[5]["Tabaco_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[5]["Alcohol_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[5]["Cannabis_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[5]["Cocaina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[5]["Anfetamina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[5]["Inhalantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[5]["Tranquilizantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[5]["Alucinogenos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[5]["Opiaceos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[5]["Otros_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Otros_1"] = "false"}
      }
      if (answer_next[5] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[6]["Tabaco_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[6]["Alcohol_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[6]["Cannabis_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[6]["Cocaina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[6]["Anfetamina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[6]["Inhalantes_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[6]["Tranquilizantes_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[6]["Alucinogenos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[6]["Opiaceos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[6]["Otros_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Otros_1"] = "false"}
      }
      if (answer_next[6] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[7]["Tabaco_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[7]["Alcohol_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[7]["Cannabis_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[7]["Cocaina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[7]["Anfetamina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[7]["Inhalantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[7]["Tranquilizantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[7]["Alucinogenos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[7]["Opiaceos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[7]["Otros_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Otros_1"] = "false"}
      }
      if (answer_next[7] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[8]["Tabaco_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[8]["Alcohol_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[8]["Cannabis_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[8]["Cocaina_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[8]["Anfetamina_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[8]["Inhalantes_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[8]["Tranquilizantes_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[8]["Alucinogenos_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[8]["Opiaceos_1"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[8]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[8]["Otros_1"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[8]["Otros_1"] = "false"}
      }
      if (answer_next[8] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[9]["Tabaco_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[9]["Alcohol_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[9]["Cannabis_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[9]["Cocaina_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[9]["Anfetamina_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[9]["Inhalantes_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[9]["Tranquilizantes_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[9]["Alucinogenos_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_2" && restriction_dict[9]["Opiaceos_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Opiaceos_2"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[9]["Otros_1"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[9]["Otros_1"] = "false"}
      }
      if (answer_next[9] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[10]["Tabaco_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[10]["Alcohol_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[10]["Cannabis_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[10]["Cocaina_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[10]["Anfetamina_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[10]["Inhalantes_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[10]["Tranquilizantes_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[10]["Alucinogenos_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_2" && restriction_dict[10]["Opiaceos_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Opiaceos_2"] = "false"}
        if (element.trialid === "Otros_3" && restriction_dict[10]["Otros_3"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Otros_3"] = "false"}
      }
    })
    for (var i = 0; i < answer_previous.length; i++) 
      if (answer_previous[i] === 'true') 
        cont_prev += 1; 
    for (var j=0; j < answer_next.length; j++) 
      if (answer_next[j] === 'true')
        cont_next += 1; 
    if ((cont_next === 0 && cont_prev !== 0)) return true;
    return false 
  } 
} 

questions_experiment.push(if_question46);

var question47 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>En los últimos tres meses, ¿con qué frecuencia dejó de hacer lo que se esperaba de usted habitualmente por el consumo de inhalantes (colas, gasolina/nafta, pegamento, etc.)?</div>", options: ['Nunca.', '1 o 2 veces.', 'Cada mes.', 'Cada semana.', 'A diario o casi a diario.'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Inhalantes_5'}
}

var if_question47 = { 
  timeline:[question47], 
  conditional_function: function (){ 
    var data = jsPsych.data.get().values(); var cont_prev = 0; var cont_next = 0; 
    var restriction_dict = [{"Inhalantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Inhalantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Inhalantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Inhalantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Inhalantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Inhalantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Inhalantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Inhalantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Inhalantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Inhalantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Inhalantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}]; 
    var answer_previous = []
    var answer_next = []
    answer_previous = answer_previous.concat([""]) 
    answer_next = answer_next.concat(["","","","","","","","","",""]) 
    data.slice().reverse().forEach (function (element) { 
      if (answer_previous[0] !== "false"){
        if (element.trialid === "Inhalantes_1" && restriction_dict[0]["Inhalantes_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[0]["Inhalantes_1"] = "false"}
      }
      if (answer_next[0] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[1]["Tabaco_2"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[1]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_1" && restriction_dict[1]["Alcohol_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alcohol_1"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[1]["Cannabis_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[1]["Cocaina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[1]["Anfetamina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[1]["Inhalantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[1]["Tranquilizantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[1]["Alucinogenos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[1]["Opiaceos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[1]["Otros_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Otros_1"] = "false"}
      }
      if (answer_next[1] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[2]["Tabaco_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[2]["Alcohol_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[2]["Cannabis_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[2]["Cocaina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[2]["Anfetamina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[2]["Inhalantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[2]["Tranquilizantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[2]["Alucinogenos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[2]["Opiaceos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[2]["Otros_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Otros_1"] = "false"}
      }
      if (answer_next[2] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[3]["Tabaco_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[3]["Alcohol_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[3]["Cannabis_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[3]["Cocaina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[3]["Anfetamina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[3]["Inhalantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[3]["Tranquilizantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[3]["Alucinogenos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[3]["Opiaceos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[3]["Otros_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Otros_1"] = "false"}
      }
      if (answer_next[3] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[4]["Tabaco_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[4]["Alcohol_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[4]["Cannabis_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[4]["Cocaina_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[4]["Anfetamina_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[4]["Inhalantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[4]["Tranquilizantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[4]["Alucinogenos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[4]["Opiaceos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[4]["Otros_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Otros_1"] = "false"}
      }
      if (answer_next[4] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[5]["Tabaco_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[5]["Alcohol_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[5]["Cannabis_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[5]["Cocaina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[5]["Anfetamina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[5]["Inhalantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[5]["Tranquilizantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[5]["Alucinogenos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[5]["Opiaceos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[5]["Otros_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Otros_1"] = "false"}
      }
      if (answer_next[5] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[6]["Tabaco_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[6]["Alcohol_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[6]["Cannabis_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[6]["Cocaina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[6]["Anfetamina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[6]["Inhalantes_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[6]["Tranquilizantes_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[6]["Alucinogenos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[6]["Opiaceos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[6]["Otros_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Otros_1"] = "false"}
      }
      if (answer_next[6] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[7]["Tabaco_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[7]["Alcohol_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[7]["Cannabis_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[7]["Cocaina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[7]["Anfetamina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[7]["Inhalantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[7]["Tranquilizantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[7]["Alucinogenos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[7]["Opiaceos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[7]["Otros_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Otros_1"] = "false"}
      }
      if (answer_next[7] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[8]["Tabaco_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[8]["Alcohol_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[8]["Cannabis_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[8]["Cocaina_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[8]["Anfetamina_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[8]["Inhalantes_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[8]["Tranquilizantes_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[8]["Alucinogenos_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[8]["Opiaceos_1"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[8]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[8]["Otros_1"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[8]["Otros_1"] = "false"}
      }
      if (answer_next[8] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[9]["Tabaco_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[9]["Alcohol_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[9]["Cannabis_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[9]["Cocaina_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[9]["Anfetamina_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[9]["Inhalantes_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[9]["Tranquilizantes_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[9]["Alucinogenos_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_2" && restriction_dict[9]["Opiaceos_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Opiaceos_2"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[9]["Otros_1"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[9]["Otros_1"] = "false"}
      }
      if (answer_next[9] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[10]["Tabaco_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[10]["Alcohol_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[10]["Cannabis_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[10]["Cocaina_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[10]["Anfetamina_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[10]["Inhalantes_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[10]["Tranquilizantes_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[10]["Alucinogenos_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_2" && restriction_dict[10]["Opiaceos_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Opiaceos_2"] = "false"}
        if (element.trialid === "Otros_3" && restriction_dict[10]["Otros_3"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Otros_3"] = "false"}
      }
    })
    for (var i = 0; i < answer_previous.length; i++) 
      if (answer_previous[i] === 'true') 
        cont_prev += 1; 
    for (var j=0; j < answer_next.length; j++) 
      if (answer_next[j] === 'true')
        cont_next += 1; 
    if ((cont_next === 0 && cont_prev !== 0)) return true;
    return false 
  } 
} 

questions_experiment.push(if_question47);

var question48 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>En los últimos tres meses, ¿con qué frecuencia dejó de hacer lo que se esperaba de usted habitualmente por el consumo de tranquilizantes o pastillas para dormir (valium/diazepam, Trankimazin/Alprazolam/Xanax, Orfidal/Lorazepam, Rohipnol, etc.)?</div>", options: ['Nunca.', '1 o 2 veces.', 'Cada mes.', 'Cada semana.', 'A diario o casi a diario.'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Tranquilizantes_5'}
}

var if_question48 = { 
  timeline:[question48], 
  conditional_function: function (){ 
    var data = jsPsych.data.get().values(); var cont_prev = 0; var cont_next = 0; 
    var restriction_dict = [{"Tranquilizantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Tranquilizantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Tranquilizantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Tranquilizantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Tranquilizantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Tranquilizantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Tranquilizantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Tranquilizantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Tranquilizantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Tranquilizantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Tranquilizantes_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}]; 
    var answer_previous = []
    var answer_next = []
    answer_previous = answer_previous.concat([""]) 
    answer_next = answer_next.concat(["","","","","","","","","",""]) 
    data.slice().reverse().forEach (function (element) { 
      if (answer_previous[0] !== "false"){
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[0]["Tranquilizantes_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[0]["Tranquilizantes_1"] = "false"}
      }
      if (answer_next[0] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[1]["Tabaco_2"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[1]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_1" && restriction_dict[1]["Alcohol_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alcohol_1"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[1]["Cannabis_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[1]["Cocaina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[1]["Anfetamina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[1]["Inhalantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[1]["Tranquilizantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[1]["Alucinogenos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[1]["Opiaceos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[1]["Otros_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Otros_1"] = "false"}
      }
      if (answer_next[1] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[2]["Tabaco_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[2]["Alcohol_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[2]["Cannabis_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[2]["Cocaina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[2]["Anfetamina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[2]["Inhalantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[2]["Tranquilizantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[2]["Alucinogenos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[2]["Opiaceos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[2]["Otros_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Otros_1"] = "false"}
      }
      if (answer_next[2] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[3]["Tabaco_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[3]["Alcohol_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[3]["Cannabis_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[3]["Cocaina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[3]["Anfetamina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[3]["Inhalantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[3]["Tranquilizantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[3]["Alucinogenos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[3]["Opiaceos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[3]["Otros_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Otros_1"] = "false"}
      }
      if (answer_next[3] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[4]["Tabaco_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[4]["Alcohol_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[4]["Cannabis_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[4]["Cocaina_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[4]["Anfetamina_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[4]["Inhalantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[4]["Tranquilizantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[4]["Alucinogenos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[4]["Opiaceos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[4]["Otros_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Otros_1"] = "false"}
      }
      if (answer_next[4] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[5]["Tabaco_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[5]["Alcohol_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[5]["Cannabis_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[5]["Cocaina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[5]["Anfetamina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[5]["Inhalantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[5]["Tranquilizantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[5]["Alucinogenos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[5]["Opiaceos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[5]["Otros_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Otros_1"] = "false"}
      }
      if (answer_next[5] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[6]["Tabaco_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[6]["Alcohol_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[6]["Cannabis_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[6]["Cocaina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[6]["Anfetamina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[6]["Inhalantes_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[6]["Tranquilizantes_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[6]["Alucinogenos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[6]["Opiaceos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[6]["Otros_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Otros_1"] = "false"}
      }
      if (answer_next[6] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[7]["Tabaco_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[7]["Alcohol_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[7]["Cannabis_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[7]["Cocaina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[7]["Anfetamina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[7]["Inhalantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[7]["Tranquilizantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[7]["Alucinogenos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[7]["Opiaceos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[7]["Otros_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Otros_1"] = "false"}
      }
      if (answer_next[7] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[8]["Tabaco_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[8]["Alcohol_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[8]["Cannabis_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[8]["Cocaina_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[8]["Anfetamina_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[8]["Inhalantes_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[8]["Tranquilizantes_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[8]["Alucinogenos_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[8]["Opiaceos_1"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[8]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[8]["Otros_1"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[8]["Otros_1"] = "false"}
      }
      if (answer_next[8] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[9]["Tabaco_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[9]["Alcohol_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[9]["Cannabis_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[9]["Cocaina_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[9]["Anfetamina_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[9]["Inhalantes_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[9]["Tranquilizantes_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[9]["Alucinogenos_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_2" && restriction_dict[9]["Opiaceos_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Opiaceos_2"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[9]["Otros_1"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[9]["Otros_1"] = "false"}
      }
      if (answer_next[9] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[10]["Tabaco_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[10]["Alcohol_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[10]["Cannabis_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[10]["Cocaina_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[10]["Anfetamina_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[10]["Inhalantes_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[10]["Tranquilizantes_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[10]["Alucinogenos_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_2" && restriction_dict[10]["Opiaceos_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Opiaceos_2"] = "false"}
        if (element.trialid === "Otros_3" && restriction_dict[10]["Otros_3"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Otros_3"] = "false"}
      }
    })
    for (var i = 0; i < answer_previous.length; i++) 
      if (answer_previous[i] === 'true') 
        cont_prev += 1; 
    for (var j=0; j < answer_next.length; j++) 
      if (answer_next[j] === 'true')
        cont_next += 1; 
    if ((cont_next === 0 && cont_prev !== 0)) return true;
    return false 
  } 
} 

questions_experiment.push(if_question48);

var question49 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>En los últimos tres meses, ¿con qué frecuencia dejó de hacer lo que se esperaba de usted habitualmente por el consumo de alucinógenos (LSD, ácidos, ketamina, PCP, etc.)?</div>", options: ['Nunca.', '1 o 2 veces.', 'Cada mes.', 'Cada semana.', 'A diario o casi a diario.'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Alucinogenos_5'}
}

var if_question49 = { 
  timeline:[question49], 
  conditional_function: function (){ 
    var data = jsPsych.data.get().values(); var cont_prev = 0; var cont_next = 0; 
    var restriction_dict = [{"Alucinogenos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Alucinogenos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Alucinogenos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Alucinogenos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Alucinogenos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Alucinogenos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Alucinogenos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Alucinogenos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Alucinogenos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Alucinogenos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Alucinogenos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}]; 
    var answer_previous = []
    var answer_next = []
    answer_previous = answer_previous.concat([""]) 
    answer_next = answer_next.concat(["","","","","","","","","",""]) 
    data.slice().reverse().forEach (function (element) { 
      if (answer_previous[0] !== "false"){
        if (element.trialid === "Alucinogenos_1" && restriction_dict[0]["Alucinogenos_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[0]["Alucinogenos_1"] = "false"}
      }
      if (answer_next[0] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[1]["Tabaco_2"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[1]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_1" && restriction_dict[1]["Alcohol_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alcohol_1"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[1]["Cannabis_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[1]["Cocaina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[1]["Anfetamina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[1]["Inhalantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[1]["Tranquilizantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[1]["Alucinogenos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[1]["Opiaceos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[1]["Otros_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Otros_1"] = "false"}
      }
      if (answer_next[1] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[2]["Tabaco_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[2]["Alcohol_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[2]["Cannabis_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[2]["Cocaina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[2]["Anfetamina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[2]["Inhalantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[2]["Tranquilizantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[2]["Alucinogenos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[2]["Opiaceos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[2]["Otros_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Otros_1"] = "false"}
      }
      if (answer_next[2] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[3]["Tabaco_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[3]["Alcohol_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[3]["Cannabis_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[3]["Cocaina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[3]["Anfetamina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[3]["Inhalantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[3]["Tranquilizantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[3]["Alucinogenos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[3]["Opiaceos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[3]["Otros_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Otros_1"] = "false"}
      }
      if (answer_next[3] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[4]["Tabaco_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[4]["Alcohol_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[4]["Cannabis_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[4]["Cocaina_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[4]["Anfetamina_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[4]["Inhalantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[4]["Tranquilizantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[4]["Alucinogenos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[4]["Opiaceos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[4]["Otros_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Otros_1"] = "false"}
      }
      if (answer_next[4] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[5]["Tabaco_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[5]["Alcohol_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[5]["Cannabis_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[5]["Cocaina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[5]["Anfetamina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[5]["Inhalantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[5]["Tranquilizantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[5]["Alucinogenos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[5]["Opiaceos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[5]["Otros_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Otros_1"] = "false"}
      }
      if (answer_next[5] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[6]["Tabaco_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[6]["Alcohol_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[6]["Cannabis_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[6]["Cocaina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[6]["Anfetamina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[6]["Inhalantes_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[6]["Tranquilizantes_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[6]["Alucinogenos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[6]["Opiaceos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[6]["Otros_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Otros_1"] = "false"}
      }
      if (answer_next[6] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[7]["Tabaco_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[7]["Alcohol_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[7]["Cannabis_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[7]["Cocaina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[7]["Anfetamina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[7]["Inhalantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[7]["Tranquilizantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[7]["Alucinogenos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[7]["Opiaceos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[7]["Otros_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Otros_1"] = "false"}
      }
      if (answer_next[7] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[8]["Tabaco_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[8]["Alcohol_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[8]["Cannabis_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[8]["Cocaina_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[8]["Anfetamina_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[8]["Inhalantes_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[8]["Tranquilizantes_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[8]["Alucinogenos_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[8]["Opiaceos_1"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[8]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[8]["Otros_1"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[8]["Otros_1"] = "false"}
      }
      if (answer_next[8] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[9]["Tabaco_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[9]["Alcohol_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[9]["Cannabis_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[9]["Cocaina_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[9]["Anfetamina_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[9]["Inhalantes_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[9]["Tranquilizantes_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[9]["Alucinogenos_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_2" && restriction_dict[9]["Opiaceos_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Opiaceos_2"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[9]["Otros_1"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[9]["Otros_1"] = "false"}
      }
      if (answer_next[9] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[10]["Tabaco_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[10]["Alcohol_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[10]["Cannabis_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[10]["Cocaina_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[10]["Anfetamina_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[10]["Inhalantes_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[10]["Tranquilizantes_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[10]["Alucinogenos_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_2" && restriction_dict[10]["Opiaceos_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Opiaceos_2"] = "false"}
        if (element.trialid === "Otros_3" && restriction_dict[10]["Otros_3"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Otros_3"] = "false"}
      }
    })
    for (var i = 0; i < answer_previous.length; i++) 
      if (answer_previous[i] === 'true') 
        cont_prev += 1; 
    for (var j=0; j < answer_next.length; j++) 
      if (answer_next[j] === 'true')
        cont_next += 1; 
    if ((cont_next === 0 && cont_prev !== 0)) return true;
    return false 
  } 
} 

questions_experiment.push(if_question49);

var question50 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>En los últimos tres meses, ¿con qué frecuencia dejó de hacer lo que se esperaba de usted habitualmente por el consumo de opiáceos (heroína, metadona, codeína, morfina, dolantina/petidina, etc.)?</div>", options: ['Nunca.', '1 o 2 veces.', 'Cada mes.', 'Cada semana.', 'A diario o casi a diario.'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Opiaceos_5'}
}

var if_question50 = { 
  timeline:[question50], 
  conditional_function: function (){ 
    var data = jsPsych.data.get().values(); var cont_prev = 0; var cont_next = 0; 
    var restriction_dict = [{"Opiaceos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Opiaceos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Opiaceos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Opiaceos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Opiaceos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Opiaceos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Opiaceos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Opiaceos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Opiaceos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Opiaceos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Opiaceos_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}]; 
    var answer_previous = []
    var answer_next = []
    answer_previous = answer_previous.concat([""]) 
    answer_next = answer_next.concat(["","","","","","","","","",""]) 
    data.slice().reverse().forEach (function (element) { 
      if (answer_previous[0] !== "false"){
        if (element.trialid === "Opiaceos_1" && restriction_dict[0]["Opiaceos_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[0]["Opiaceos_1"] = "false"}
      }
      if (answer_next[0] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[1]["Tabaco_2"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[1]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_1" && restriction_dict[1]["Alcohol_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alcohol_1"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[1]["Cannabis_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[1]["Cocaina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[1]["Anfetamina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[1]["Inhalantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[1]["Tranquilizantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[1]["Alucinogenos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[1]["Opiaceos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[1]["Otros_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Otros_1"] = "false"}
      }
      if (answer_next[1] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[2]["Tabaco_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[2]["Alcohol_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[2]["Cannabis_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[2]["Cocaina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[2]["Anfetamina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[2]["Inhalantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[2]["Tranquilizantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[2]["Alucinogenos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[2]["Opiaceos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[2]["Otros_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Otros_1"] = "false"}
      }
      if (answer_next[2] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[3]["Tabaco_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[3]["Alcohol_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[3]["Cannabis_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[3]["Cocaina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[3]["Anfetamina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[3]["Inhalantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[3]["Tranquilizantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[3]["Alucinogenos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[3]["Opiaceos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[3]["Otros_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Otros_1"] = "false"}
      }
      if (answer_next[3] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[4]["Tabaco_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[4]["Alcohol_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[4]["Cannabis_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[4]["Cocaina_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[4]["Anfetamina_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[4]["Inhalantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[4]["Tranquilizantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[4]["Alucinogenos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[4]["Opiaceos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[4]["Otros_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Otros_1"] = "false"}
      }
      if (answer_next[4] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[5]["Tabaco_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[5]["Alcohol_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[5]["Cannabis_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[5]["Cocaina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[5]["Anfetamina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[5]["Inhalantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[5]["Tranquilizantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[5]["Alucinogenos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[5]["Opiaceos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[5]["Otros_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Otros_1"] = "false"}
      }
      if (answer_next[5] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[6]["Tabaco_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[6]["Alcohol_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[6]["Cannabis_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[6]["Cocaina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[6]["Anfetamina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[6]["Inhalantes_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[6]["Tranquilizantes_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[6]["Alucinogenos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[6]["Opiaceos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[6]["Otros_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Otros_1"] = "false"}
      }
      if (answer_next[6] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[7]["Tabaco_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[7]["Alcohol_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[7]["Cannabis_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[7]["Cocaina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[7]["Anfetamina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[7]["Inhalantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[7]["Tranquilizantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[7]["Alucinogenos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[7]["Opiaceos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[7]["Otros_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Otros_1"] = "false"}
      }
      if (answer_next[7] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[8]["Tabaco_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[8]["Alcohol_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[8]["Cannabis_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[8]["Cocaina_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[8]["Anfetamina_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[8]["Inhalantes_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[8]["Tranquilizantes_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[8]["Alucinogenos_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[8]["Opiaceos_1"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[8]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[8]["Otros_1"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[8]["Otros_1"] = "false"}
      }
      if (answer_next[8] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[9]["Tabaco_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[9]["Alcohol_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[9]["Cannabis_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[9]["Cocaina_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[9]["Anfetamina_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[9]["Inhalantes_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[9]["Tranquilizantes_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[9]["Alucinogenos_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_2" && restriction_dict[9]["Opiaceos_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Opiaceos_2"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[9]["Otros_1"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[9]["Otros_1"] = "false"}
      }
      if (answer_next[9] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[10]["Tabaco_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[10]["Alcohol_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[10]["Cannabis_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[10]["Cocaina_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[10]["Anfetamina_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[10]["Inhalantes_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[10]["Tranquilizantes_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[10]["Alucinogenos_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_2" && restriction_dict[10]["Opiaceos_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Opiaceos_2"] = "false"}
        if (element.trialid === "Otros_3" && restriction_dict[10]["Otros_3"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Otros_3"] = "false"}
      }
    })
    for (var i = 0; i < answer_previous.length; i++) 
      if (answer_previous[i] === 'true') 
        cont_prev += 1; 
    for (var j=0; j < answer_next.length; j++) 
      if (answer_next[j] === 'true')
        cont_next += 1; 
    if ((cont_next === 0 && cont_prev !== 0)) return true;
    return false 
  } 
} 

questions_experiment.push(if_question50);

var question51 = {
  type:'survey-multi-choice',
  questions:[{prompt: '',options: ['']}],
  on_start: function(trial) {
    trial.questions = [{prompt: "<div class='justified'>En los últimos tres meses, ¿con qué frecuencia dejó de hacer lo que se esperaba de usted habitualmente por el consumo de "+variables["otra_sustancia"]+"?</div>", options: ['Nunca.', '1 o 2 veces.', 'Cada mes.', 'Cada semana.', 'A diario o casi a diario.'], required: true, horizontal: false, not_enabled_options: 0}];
  },
  data: {trialid: 'Otros_6'}
}

var if_question51 = { 
  timeline:[question51], 
  conditional_function: function (){ 
    var data = jsPsych.data.get().values(); var cont_prev = 0; var cont_next = 0; 
    var restriction_dict = [{"Otros_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Otros_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Otros_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Otros_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Otros_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Otros_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Otros_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Otros_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Otros_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Otros_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Otros_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}]; 
    var answer_previous = []
    var answer_next = []
    answer_previous = answer_previous.concat([""]) 
    answer_next = answer_next.concat(["","","","","","","","","",""]) 
    data.slice().reverse().forEach (function (element) { 
      if (answer_previous[0] !== "false"){
        if (element.trialid === "Otros_1" && restriction_dict[0]["Otros_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[0]["Otros_1"] = "false"}
      }
      if (answer_next[0] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[1]["Tabaco_2"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[1]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_1" && restriction_dict[1]["Alcohol_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alcohol_1"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[1]["Cannabis_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[1]["Cocaina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[1]["Anfetamina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[1]["Inhalantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[1]["Tranquilizantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[1]["Alucinogenos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[1]["Opiaceos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[1]["Otros_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Otros_1"] = "false"}
      }
      if (answer_next[1] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[2]["Tabaco_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[2]["Alcohol_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[2]["Cannabis_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[2]["Cocaina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[2]["Anfetamina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[2]["Inhalantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[2]["Tranquilizantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[2]["Alucinogenos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[2]["Opiaceos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[2]["Otros_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Otros_1"] = "false"}
      }
      if (answer_next[2] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[3]["Tabaco_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[3]["Alcohol_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[3]["Cannabis_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[3]["Cocaina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[3]["Anfetamina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[3]["Inhalantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[3]["Tranquilizantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[3]["Alucinogenos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[3]["Opiaceos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[3]["Otros_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Otros_1"] = "false"}
      }
      if (answer_next[3] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[4]["Tabaco_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[4]["Alcohol_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[4]["Cannabis_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[4]["Cocaina_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[4]["Anfetamina_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[4]["Inhalantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[4]["Tranquilizantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[4]["Alucinogenos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[4]["Opiaceos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[4]["Otros_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Otros_1"] = "false"}
      }
      if (answer_next[4] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[5]["Tabaco_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[5]["Alcohol_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[5]["Cannabis_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[5]["Cocaina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[5]["Anfetamina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[5]["Inhalantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[5]["Tranquilizantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[5]["Alucinogenos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[5]["Opiaceos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[5]["Otros_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Otros_1"] = "false"}
      }
      if (answer_next[5] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[6]["Tabaco_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[6]["Alcohol_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[6]["Cannabis_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[6]["Cocaina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[6]["Anfetamina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[6]["Inhalantes_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[6]["Tranquilizantes_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[6]["Alucinogenos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[6]["Opiaceos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[6]["Otros_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Otros_1"] = "false"}
      }
      if (answer_next[6] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[7]["Tabaco_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[7]["Alcohol_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[7]["Cannabis_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[7]["Cocaina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[7]["Anfetamina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[7]["Inhalantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[7]["Tranquilizantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[7]["Alucinogenos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[7]["Opiaceos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[7]["Otros_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Otros_1"] = "false"}
      }
      if (answer_next[7] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[8]["Tabaco_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[8]["Alcohol_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[8]["Cannabis_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[8]["Cocaina_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[8]["Anfetamina_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[8]["Inhalantes_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[8]["Tranquilizantes_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[8]["Alucinogenos_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[8]["Opiaceos_1"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[8]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[8]["Otros_1"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[8]["Otros_1"] = "false"}
      }
      if (answer_next[8] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[9]["Tabaco_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[9]["Alcohol_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[9]["Cannabis_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[9]["Cocaina_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[9]["Anfetamina_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[9]["Inhalantes_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[9]["Tranquilizantes_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[9]["Alucinogenos_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_2" && restriction_dict[9]["Opiaceos_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Opiaceos_2"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[9]["Otros_1"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[9]["Otros_1"] = "false"}
      }
      if (answer_next[9] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[10]["Tabaco_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[10]["Alcohol_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[10]["Cannabis_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[10]["Cocaina_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[10]["Anfetamina_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[10]["Inhalantes_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[10]["Tranquilizantes_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[10]["Alucinogenos_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_2" && restriction_dict[10]["Opiaceos_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Opiaceos_2"] = "false"}
        if (element.trialid === "Otros_3" && restriction_dict[10]["Otros_3"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Otros_3"] = "false"}
      }
    })
    variable:otra_sustancia = variables['variable:otra_sustancia']; 
    for (var i = 0; i < answer_previous.length; i++) 
      if (answer_previous[i] === 'true') 
        cont_prev += 1; 
    for (var j=0; j < answer_next.length; j++) 
      if (answer_next[j] === 'true')
        cont_next += 1; 
    if ((cont_next === 0 && cont_prev !== 0)) return true;
    return false 
  } 
} 

questions_experiment.push(if_question51);

var question52 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>¿Un amigo, un familiar o alguien más alguna vez ha mostrado preocupación por su consumo de tabaco (cigarrillos, cigarros habanos, tabaco de mascar, pipa, etc.)?</div>", options: ['No, nunca.', 'Si, en los últimos 3 meses.', 'Si, pero no en los últimos 3 meses.'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Tabaco_5'}
}

var if_question52 = { 
  timeline:[question52], 
  conditional_function: function (){ 
    var data = jsPsych.data.get().values(); var cont_prev = 0; var cont_next = 0; 
    var restriction_dict = [{"Tabaco_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Tabaco_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Tabaco_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Tabaco_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Tabaco_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Tabaco_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Tabaco_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Tabaco_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Tabaco_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Tabaco_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}, {"Tabaco_1": "true", "Tabaco_2": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Alcohol_2": "true", "Cannabis_2": "true", "Cocaina_2": "true", "Anfetamina_2": "true", "Inhalantes_2": "true", "Tranquilizantes_2": "true", "Alucinogenos_2": "true", "Opiaceos_2": "true", "Otros_3": "true"}]; 
    var answer_previous = []
    var answer_next = []
    answer_previous = answer_previous.concat([""]) 
    answer_next = answer_next.concat(["","","","","","","","","",""]) 
    data.slice().reverse().forEach (function (element) { 
      if (answer_previous[0] !== "false"){
        if (element.trialid === "Tabaco_1" && restriction_dict[0]["Tabaco_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[0]["Tabaco_1"] = "false"}
      }
      if (answer_next[0] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[1]["Tabaco_2"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[1]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_1" && restriction_dict[1]["Alcohol_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alcohol_1"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[1]["Cannabis_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[1]["Cocaina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[1]["Anfetamina_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[1]["Inhalantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[1]["Tranquilizantes_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[1]["Alucinogenos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[1]["Opiaceos_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[1]["Otros_1"] === "true"){answer_next[0] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[1]["Otros_1"] = "false"}
      }
      if (answer_next[1] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[2]["Tabaco_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[2]["Alcohol_2"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[2]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_1" && restriction_dict[2]["Cannabis_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cannabis_1"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[2]["Cocaina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[2]["Anfetamina_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[2]["Inhalantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[2]["Tranquilizantes_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[2]["Alucinogenos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[2]["Opiaceos_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[2]["Otros_1"] === "true"){answer_next[1] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[2]["Otros_1"] = "false"}
      }
      if (answer_next[2] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[3]["Tabaco_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[3]["Alcohol_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[3]["Cannabis_2"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[3]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_1" && restriction_dict[3]["Cocaina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Cocaina_1"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[3]["Anfetamina_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[3]["Inhalantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[3]["Tranquilizantes_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[3]["Alucinogenos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[3]["Opiaceos_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[3]["Otros_1"] === "true"){answer_next[2] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[3]["Otros_1"] = "false"}
      }
      if (answer_next[3] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[4]["Tabaco_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[4]["Alcohol_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[4]["Cannabis_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[4]["Cocaina_2"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[4]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_1" && restriction_dict[4]["Anfetamina_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Anfetamina_1"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[4]["Inhalantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[4]["Tranquilizantes_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[4]["Alucinogenos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[4]["Opiaceos_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[4]["Otros_1"] === "true"){answer_next[3] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[4]["Otros_1"] = "false"}
      }
      if (answer_next[4] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[5]["Tabaco_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[5]["Alcohol_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[5]["Cannabis_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[5]["Cocaina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[5]["Anfetamina_2"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[5]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_1" && restriction_dict[5]["Inhalantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Inhalantes_1"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[5]["Tranquilizantes_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[5]["Alucinogenos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[5]["Opiaceos_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[5]["Otros_1"] === "true"){answer_next[4] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[5]["Otros_1"] = "false"}
      }
      if (answer_next[5] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[6]["Tabaco_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[6]["Alcohol_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[6]["Cannabis_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[6]["Cocaina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[6]["Anfetamina_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[6]["Inhalantes_2"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[6]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[6]["Tranquilizantes_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Tranquilizantes_1"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[6]["Alucinogenos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[6]["Opiaceos_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[6]["Otros_1"] === "true"){answer_next[5] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[6]["Otros_1"] = "false"}
      }
      if (answer_next[6] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[7]["Tabaco_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[7]["Alcohol_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[7]["Cannabis_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[7]["Cocaina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[7]["Anfetamina_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[7]["Inhalantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[7]["Tranquilizantes_2"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[7]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_1" && restriction_dict[7]["Alucinogenos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Alucinogenos_1"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[7]["Opiaceos_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[7]["Otros_1"] === "true"){answer_next[6] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[7]["Otros_1"] = "false"}
      }
      if (answer_next[7] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[8]["Tabaco_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[8]["Alcohol_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[8]["Cannabis_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[8]["Cocaina_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[8]["Anfetamina_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[8]["Inhalantes_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[8]["Tranquilizantes_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[8]["Alucinogenos_2"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[8]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_1" && restriction_dict[8]["Opiaceos_1"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[8]["Opiaceos_1"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[8]["Otros_1"] === "true"){answer_next[7] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[8]["Otros_1"] = "false"}
      }
      if (answer_next[8] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[9]["Tabaco_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[9]["Alcohol_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[9]["Cannabis_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[9]["Cocaina_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[9]["Anfetamina_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[9]["Inhalantes_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[9]["Tranquilizantes_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[9]["Alucinogenos_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_2" && restriction_dict[9]["Opiaceos_2"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[9]["Opiaceos_2"] = "false"}
        if (element.trialid === "Otros_1" && restriction_dict[9]["Otros_1"] === "true"){answer_next[8] = (element['responses'] === '{"Q0":"No"}').toString(); restriction_dict[9]["Otros_1"] = "false"}
      }
      if (answer_next[9] !== "false"){
        if (element.trialid === "Tabaco_2" && restriction_dict[10]["Tabaco_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Tabaco_2"] = "false"}
        if (element.trialid === "Alcohol_2" && restriction_dict[10]["Alcohol_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Alcohol_2"] = "false"}
        if (element.trialid === "Cannabis_2" && restriction_dict[10]["Cannabis_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Cannabis_2"] = "false"}
        if (element.trialid === "Cocaina_2" && restriction_dict[10]["Cocaina_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Cocaina_2"] = "false"}
        if (element.trialid === "Anfetamina_2" && restriction_dict[10]["Anfetamina_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Anfetamina_2"] = "false"}
        if (element.trialid === "Inhalantes_2" && restriction_dict[10]["Inhalantes_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Inhalantes_2"] = "false"}
        if (element.trialid === "Tranquilizantes_2" && restriction_dict[10]["Tranquilizantes_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Tranquilizantes_2"] = "false"}
        if (element.trialid === "Alucinogenos_2" && restriction_dict[10]["Alucinogenos_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Alucinogenos_2"] = "false"}
        if (element.trialid === "Opiaceos_2" && restriction_dict[10]["Opiaceos_2"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Opiaceos_2"] = "false"}
        if (element.trialid === "Otros_3" && restriction_dict[10]["Otros_3"] === "true"){answer_next[9] = (element['responses'] === '{"Q0":"Nunca."}').toString(); restriction_dict[10]["Otros_3"] = "false"}
      }
    })
    for (var i = 0; i < answer_previous.length; i++) 
      if (answer_previous[i] === 'true') 
        cont_prev += 1; 
    for (var j=0; j < answer_next.length; j++) 
      if (answer_next[j] === 'true')
        cont_next += 1; 
    if ((cont_next === 0 && cont_prev !== 0)) return true;
    return false 
  } 
} 

questions_experiment.push(if_question52);

var question53 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>¿Un amigo, un familiar o alguien más alguna vez ha mostrado preocupación por su consumo de bebidas alcohólicas (cerveza, vino, licores, destilados, etc.)?</div>", options: ['No, nunca.', 'Si, en los últimos 3 meses.', 'Si, pero no en los últimos 3 meses.'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Alcohol_6'}
}

var if_question53 = { 
  timeline:[question53], 
  conditional_function: function (){ 
    var data = jsPsych.data.get().values(); var cont_prev = 0; var cont_next = 0; 
    var restriction_dict = [{"Alcohol_1": "true"}]; 
    var answer_previous = []
    var answer_next = []
    answer_previous = answer_previous.concat([""]) 
    data.slice().reverse().forEach (function (element) { 
      if (answer_previous[0] !== "false"){
        if (element.trialid === "Alcohol_1" && restriction_dict[0]["Alcohol_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[0]["Alcohol_1"] = "false"}
      }
    })
    for (var i = 0; i < answer_previous.length; i++) 
      if (answer_previous[i] === 'true') 
        cont_prev += 1; 
    for (var j=0; j < answer_next.length; j++) 
      if (answer_next[j] === 'true')
        cont_next += 1; 
    if ((cont_next === 0 && cont_prev !== 0)) return true;
    return false 
  } 
} 

questions_experiment.push(if_question53);

var question54 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>¿Un amigo, un familiar o alguien más alguna vez ha mostrado preocupación por su consumo de cannabis (marihuana, costo, hierba, hashish, etc.)?</div>", options: ['No, nunca.', 'Si, en los últimos 3 meses.', 'Si, pero no en los últimos 3 meses.'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Cannabis_6'}
}

var if_question54 = { 
  timeline:[question54], 
  conditional_function: function (){ 
    var data = jsPsych.data.get().values(); var cont_prev = 0; var cont_next = 0; 
    var restriction_dict = [{"Cannabis_1": "true"}]; 
    var answer_previous = []
    var answer_next = []
    answer_previous = answer_previous.concat([""]) 
    data.slice().reverse().forEach (function (element) { 
      if (answer_previous[0] !== "false"){
        if (element.trialid === "Cannabis_1" && restriction_dict[0]["Cannabis_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[0]["Cannabis_1"] = "false"}
      }
    })
    for (var i = 0; i < answer_previous.length; i++) 
      if (answer_previous[i] === 'true') 
        cont_prev += 1; 
    for (var j=0; j < answer_next.length; j++) 
      if (answer_next[j] === 'true')
        cont_next += 1; 
    if ((cont_next === 0 && cont_prev !== 0)) return true;
    return false 
  } 
} 

questions_experiment.push(if_question54);

var question55 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>¿Un amigo, un familiar o alguien más alguna vez ha mostrado preocupación por su consumo de cocaína (coca, farlopa, crack, base, etc.)?</div>", options: ['No, nunca.', 'Si, en los últimos 3 meses.', 'Si, pero no en los últimos 3 meses.'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Cocaina_6'}
}

var if_question55 = { 
  timeline:[question55], 
  conditional_function: function (){ 
    var data = jsPsych.data.get().values(); var cont_prev = 0; var cont_next = 0; 
    var restriction_dict = [{"Cocaina_1": "true"}]; 
    var answer_previous = []
    var answer_next = []
    answer_previous = answer_previous.concat([""]) 
    data.slice().reverse().forEach (function (element) { 
      if (answer_previous[0] !== "false"){
        if (element.trialid === "Cocaina_1" && restriction_dict[0]["Cocaina_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[0]["Cocaina_1"] = "false"}
      }
    })
    for (var i = 0; i < answer_previous.length; i++) 
      if (answer_previous[i] === 'true') 
        cont_prev += 1; 
    for (var j=0; j < answer_next.length; j++) 
      if (answer_next[j] === 'true')
        cont_next += 1; 
    if ((cont_next === 0 && cont_prev !== 0)) return true;
    return false 
  } 
} 

questions_experiment.push(if_question55);

var question56 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>¿Un amigo, un familiar o alguien más alguna vez ha mostrado preocupación por su consumo de anfetaminas u otro tipo de estimulantes (speed, éxtasis, píldoras adelgazantes, etc.)?</div>", options: ['No, nunca.', 'Si, en los últimos 3 meses.', 'Si, pero no en los últimos 3 meses.'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Anfetamina_6'}
}

var if_question56 = { 
  timeline:[question56], 
  conditional_function: function (){ 
    var data = jsPsych.data.get().values(); var cont_prev = 0; var cont_next = 0; 
    var restriction_dict = [{"Anfetamina_1": "true"}]; 
    var answer_previous = []
    var answer_next = []
    answer_previous = answer_previous.concat([""]) 
    data.slice().reverse().forEach (function (element) { 
      if (answer_previous[0] !== "false"){
        if (element.trialid === "Anfetamina_1" && restriction_dict[0]["Anfetamina_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[0]["Anfetamina_1"] = "false"}
      }
    })
    for (var i = 0; i < answer_previous.length; i++) 
      if (answer_previous[i] === 'true') 
        cont_prev += 1; 
    for (var j=0; j < answer_next.length; j++) 
      if (answer_next[j] === 'true')
        cont_next += 1; 
    if ((cont_next === 0 && cont_prev !== 0)) return true;
    return false 
  } 
} 

questions_experiment.push(if_question56);

var question57 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>¿Un amigo, un familiar o alguien más alguna vez ha mostrado preocupación por su consumo de inhalantes (colas, gasolina/nafta, pegamento, etc.)?</div>", options: ['No, nunca.', 'Si, en los últimos 3 meses.', 'Si, pero no en los últimos 3 meses.'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Inhalantes_6'}
}

var if_question57 = { 
  timeline:[question57], 
  conditional_function: function (){ 
    var data = jsPsych.data.get().values(); var cont_prev = 0; var cont_next = 0; 
    var restriction_dict = [{"Inhalantes_1": "true"}]; 
    var answer_previous = []
    var answer_next = []
    answer_previous = answer_previous.concat([""]) 
    data.slice().reverse().forEach (function (element) { 
      if (answer_previous[0] !== "false"){
        if (element.trialid === "Inhalantes_1" && restriction_dict[0]["Inhalantes_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[0]["Inhalantes_1"] = "false"}
      }
    })
    for (var i = 0; i < answer_previous.length; i++) 
      if (answer_previous[i] === 'true') 
        cont_prev += 1; 
    for (var j=0; j < answer_next.length; j++) 
      if (answer_next[j] === 'true')
        cont_next += 1; 
    if ((cont_next === 0 && cont_prev !== 0)) return true;
    return false 
  } 
} 

questions_experiment.push(if_question57);

var question58 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>¿Un amigo, un familiar o alguien más alguna vez ha mostrado preocupación por su consumo de tranquilizantes o pastillas para dormir (valium/diazepam, Trankimazin/Alprazolam/Xanax, Orfidal/Lorazepam, Rohipnol, etc.)?</div>", options: ['No, nunca.', 'Si, en los últimos 3 meses.', 'Si, pero no en los últimos 3 meses.'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Tranquilizantes_6'}
}

var if_question58 = { 
  timeline:[question58], 
  conditional_function: function (){ 
    var data = jsPsych.data.get().values(); var cont_prev = 0; var cont_next = 0; 
    var restriction_dict = [{"Tranquilizantes_1": "true"}]; 
    var answer_previous = []
    var answer_next = []
    answer_previous = answer_previous.concat([""]) 
    data.slice().reverse().forEach (function (element) { 
      if (answer_previous[0] !== "false"){
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[0]["Tranquilizantes_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[0]["Tranquilizantes_1"] = "false"}
      }
    })
    for (var i = 0; i < answer_previous.length; i++) 
      if (answer_previous[i] === 'true') 
        cont_prev += 1; 
    for (var j=0; j < answer_next.length; j++) 
      if (answer_next[j] === 'true')
        cont_next += 1; 
    if ((cont_next === 0 && cont_prev !== 0)) return true;
    return false 
  } 
} 

questions_experiment.push(if_question58);

var question59 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>¿Un amigo, un familiar o alguien más alguna vez ha mostrado preocupación por su consumo de alucinógenos (LSD, ácidos, ketamina, PCP, etc.)?</div>", options: ['No, nunca.', 'Si, en los últimos 3 meses.', 'Si, pero no en los últimos 3 meses.'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Alucinogenos_6'}
}

var if_question59 = { 
  timeline:[question59], 
  conditional_function: function (){ 
    var data = jsPsych.data.get().values(); var cont_prev = 0; var cont_next = 0; 
    var restriction_dict = [{"Alucinogenos_1": "true"}]; 
    var answer_previous = []
    var answer_next = []
    answer_previous = answer_previous.concat([""]) 
    data.slice().reverse().forEach (function (element) { 
      if (answer_previous[0] !== "false"){
        if (element.trialid === "Alucinogenos_1" && restriction_dict[0]["Alucinogenos_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[0]["Alucinogenos_1"] = "false"}
      }
    })
    for (var i = 0; i < answer_previous.length; i++) 
      if (answer_previous[i] === 'true') 
        cont_prev += 1; 
    for (var j=0; j < answer_next.length; j++) 
      if (answer_next[j] === 'true')
        cont_next += 1; 
    if ((cont_next === 0 && cont_prev !== 0)) return true;
    return false 
  } 
} 

questions_experiment.push(if_question59);

var question60 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>¿Un amigo, un familiar o alguien más alguna vez ha mostrado preocupación por su consumo de opiáceos (heroína, metadona, codeína, morfina, dolantina/petidina, etc.)?</div>", options: ['No, nunca.', 'Si, en los últimos 3 meses.', 'Si, pero no en los últimos 3 meses.'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Opiaceos_6'}
}

var if_question60 = { 
  timeline:[question60], 
  conditional_function: function (){ 
    var data = jsPsych.data.get().values(); var cont_prev = 0; var cont_next = 0; 
    var restriction_dict = [{"Opiaceos_1": "true"}]; 
    var answer_previous = []
    var answer_next = []
    answer_previous = answer_previous.concat([""]) 
    data.slice().reverse().forEach (function (element) { 
      if (answer_previous[0] !== "false"){
        if (element.trialid === "Opiaceos_1" && restriction_dict[0]["Opiaceos_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[0]["Opiaceos_1"] = "false"}
      }
    })
    for (var i = 0; i < answer_previous.length; i++) 
      if (answer_previous[i] === 'true') 
        cont_prev += 1; 
    for (var j=0; j < answer_next.length; j++) 
      if (answer_next[j] === 'true')
        cont_next += 1; 
    if ((cont_next === 0 && cont_prev !== 0)) return true;
    return false 
  } 
} 

questions_experiment.push(if_question60);

var question61 = {
  type:'survey-multi-choice',
  questions:[{prompt: '',options: ['']}],
  on_start: function(trial) {
    trial.questions = [{prompt: "<div class='justified'>¿Un amigo, un familiar o alguien más alguna vez ha mostrado preocupación por su consumo de "+variables["otra_sustancia"]+"?</div>", options: ['No, nunca.', 'Si, en los últimos 3 meses.', 'Si, pero no en los últimos 3 meses.'], required: true, horizontal: false, not_enabled_options: 0}];
  },
  data: {trialid: 'Otros_7'}
}

var if_question61 = { 
  timeline:[question61], 
  conditional_function: function (){ 
    var data = jsPsych.data.get().values(); var cont_prev = 0; var cont_next = 0; 
    var restriction_dict = [{"Otros_1": "true"}]; 
    var answer_previous = []
    var answer_next = []
    answer_previous = answer_previous.concat([""]) 
    data.slice().reverse().forEach (function (element) { 
      if (answer_previous[0] !== "false"){
        if (element.trialid === "Otros_1" && restriction_dict[0]["Otros_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[0]["Otros_1"] = "false"}
      }
    })
    variable:otra_sustancia = variables['variable:otra_sustancia']; 
    for (var i = 0; i < answer_previous.length; i++) 
      if (answer_previous[i] === 'true') 
        cont_prev += 1; 
    for (var j=0; j < answer_next.length; j++) 
      if (answer_next[j] === 'true')
        cont_next += 1; 
    if ((cont_next === 0 && cont_prev !== 0)) return true;
    return false 
  } 
} 

questions_experiment.push(if_question61);

var question62 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>¿Ha intentado alguna vez controlar, reducir o dejar de consumir tabaco (cigarrillos, cigarros habanos, tabaco de mascar, pipa, etc.) y no lo ha logrado?</div>", options: ['No, nunca.', 'Si, en los últimos 3 meses.', 'Si, pero no en los últimos 3 meses.'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Tabaco_6'}
}

var if_question62 = { 
  timeline:[question62], 
  conditional_function: function (){ 
    var data = jsPsych.data.get().values(); var cont_prev = 0; var cont_next = 0; 
    var restriction_dict = [{"Tabaco_1": "true"}]; 
    var answer_previous = []
    var answer_next = []
    answer_previous = answer_previous.concat([""]) 
    data.slice().reverse().forEach (function (element) { 
      if (answer_previous[0] !== "false"){
        if (element.trialid === "Tabaco_1" && restriction_dict[0]["Tabaco_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[0]["Tabaco_1"] = "false"}
      }
    })
    for (var i = 0; i < answer_previous.length; i++) 
      if (answer_previous[i] === 'true') 
        cont_prev += 1; 
    for (var j=0; j < answer_next.length; j++) 
      if (answer_next[j] === 'true')
        cont_next += 1; 
    if ((cont_next === 0 && cont_prev !== 0)) return true;
    return false 
  } 
} 

questions_experiment.push(if_question62);

var question63 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>¿Ha intentado alguna vez controlar, reducir o dejar de consumir bebidas alcohólicas (cerveza, vino, licores, destilados, etc.) y no lo ha logrado?</div>", options: ['No, nunca.', 'Si, en los últimos 3 meses.', 'Si, pero no en los últimos 3 meses.'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Alcohol_7'}
}

var if_question63 = { 
  timeline:[question63], 
  conditional_function: function (){ 
    var data = jsPsych.data.get().values(); var cont_prev = 0; var cont_next = 0; 
    var restriction_dict = [{"Alcohol_1": "true"}]; 
    var answer_previous = []
    var answer_next = []
    answer_previous = answer_previous.concat([""]) 
    data.slice().reverse().forEach (function (element) { 
      if (answer_previous[0] !== "false"){
        if (element.trialid === "Alcohol_1" && restriction_dict[0]["Alcohol_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[0]["Alcohol_1"] = "false"}
      }
    })
    for (var i = 0; i < answer_previous.length; i++) 
      if (answer_previous[i] === 'true') 
        cont_prev += 1; 
    for (var j=0; j < answer_next.length; j++) 
      if (answer_next[j] === 'true')
        cont_next += 1; 
    if ((cont_next === 0 && cont_prev !== 0)) return true;
    return false 
  } 
} 

questions_experiment.push(if_question63);

var question64 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>¿Ha intentado alguna vez controlar, reducir o dejar de consumir cannabis (marihuana, costo, hierba, hashish, etc.) y no lo ha logrado?</div>", options: ['No, nunca.', 'Si, en los últimos 3 meses.', 'Si, pero no en los últimos 3 meses.'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Cannabis_7'}
}

var if_question64 = { 
  timeline:[question64], 
  conditional_function: function (){ 
    var data = jsPsych.data.get().values(); var cont_prev = 0; var cont_next = 0; 
    var restriction_dict = [{"Cannabis_1": "true"}]; 
    var answer_previous = []
    var answer_next = []
    answer_previous = answer_previous.concat([""]) 
    data.slice().reverse().forEach (function (element) { 
      if (answer_previous[0] !== "false"){
        if (element.trialid === "Cannabis_1" && restriction_dict[0]["Cannabis_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[0]["Cannabis_1"] = "false"}
      }
    })
    for (var i = 0; i < answer_previous.length; i++) 
      if (answer_previous[i] === 'true') 
        cont_prev += 1; 
    for (var j=0; j < answer_next.length; j++) 
      if (answer_next[j] === 'true')
        cont_next += 1; 
    if ((cont_next === 0 && cont_prev !== 0)) return true;
    return false 
  } 
} 

questions_experiment.push(if_question64);

var question65 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>¿Ha intentado alguna vez controlar, reducir o dejar de consumir cocaína (coca, farlopa, crack, base, etc.) y no lo ha logrado?</div>", options: ['No, nunca.', 'Si, en los últimos 3 meses.', 'Si, pero no en los últimos 3 meses.'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Cocaina_7'}
}

var if_question65 = { 
  timeline:[question65], 
  conditional_function: function (){ 
    var data = jsPsych.data.get().values(); var cont_prev = 0; var cont_next = 0; 
    var restriction_dict = [{"Cocaina_1": "true"}]; 
    var answer_previous = []
    var answer_next = []
    answer_previous = answer_previous.concat([""]) 
    data.slice().reverse().forEach (function (element) { 
      if (answer_previous[0] !== "false"){
        if (element.trialid === "Cocaina_1" && restriction_dict[0]["Cocaina_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[0]["Cocaina_1"] = "false"}
      }
    })
    for (var i = 0; i < answer_previous.length; i++) 
      if (answer_previous[i] === 'true') 
        cont_prev += 1; 
    for (var j=0; j < answer_next.length; j++) 
      if (answer_next[j] === 'true')
        cont_next += 1; 
    if ((cont_next === 0 && cont_prev !== 0)) return true;
    return false 
  } 
} 

questions_experiment.push(if_question65);

var question66 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>¿Ha intentado alguna vez controlar, reducir o dejar de consumir anfetaminas u otro tipo de estimulantes (speed, éxtasis, píldoras adelgazantes, etc.) y no lo ha logrado?</div>", options: ['No, nunca.', 'Si, en los últimos 3 meses.', 'Si, pero no en los últimos 3 meses.'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Anfetamina_7'}
}

var if_question66 = { 
  timeline:[question66], 
  conditional_function: function (){ 
    var data = jsPsych.data.get().values(); var cont_prev = 0; var cont_next = 0; 
    var restriction_dict = [{"Anfetamina_1": "true"}]; 
    var answer_previous = []
    var answer_next = []
    answer_previous = answer_previous.concat([""]) 
    data.slice().reverse().forEach (function (element) { 
      if (answer_previous[0] !== "false"){
        if (element.trialid === "Anfetamina_1" && restriction_dict[0]["Anfetamina_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[0]["Anfetamina_1"] = "false"}
      }
    })
    for (var i = 0; i < answer_previous.length; i++) 
      if (answer_previous[i] === 'true') 
        cont_prev += 1; 
    for (var j=0; j < answer_next.length; j++) 
      if (answer_next[j] === 'true')
        cont_next += 1; 
    if ((cont_next === 0 && cont_prev !== 0)) return true;
    return false 
  } 
} 

questions_experiment.push(if_question66);

var question67 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>¿Ha intentado alguna vez controlar, reducir o dejar de consumir inhalantes (colas, gasolina/nafta, pegamento, etc.) y no lo ha logrado?</div>", options: ['No, nunca.', 'Si, en los últimos 3 meses.', 'Si, pero no en los últimos 3 meses.'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Inhalantes_7'}
}

var if_question67 = { 
  timeline:[question67], 
  conditional_function: function (){ 
    var data = jsPsych.data.get().values(); var cont_prev = 0; var cont_next = 0; 
    var restriction_dict = [{"Inhalantes_1": "true"}]; 
    var answer_previous = []
    var answer_next = []
    answer_previous = answer_previous.concat([""]) 
    data.slice().reverse().forEach (function (element) { 
      if (answer_previous[0] !== "false"){
        if (element.trialid === "Inhalantes_1" && restriction_dict[0]["Inhalantes_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[0]["Inhalantes_1"] = "false"}
      }
    })
    for (var i = 0; i < answer_previous.length; i++) 
      if (answer_previous[i] === 'true') 
        cont_prev += 1; 
    for (var j=0; j < answer_next.length; j++) 
      if (answer_next[j] === 'true')
        cont_next += 1; 
    if ((cont_next === 0 && cont_prev !== 0)) return true;
    return false 
  } 
} 

questions_experiment.push(if_question67);

var question68 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>¿Ha intentado alguna vez controlar, reducir o dejar de consumir tranquilizantes o pastillas para dormir (valium/diazepam, Trankimazin/Alprazolam/Xanax, Orfidal/Lorazepam, Rohipnol, etc.) y no lo ha logrado?</div>", options: ['No, nunca.', 'Si, en los últimos 3 meses.', 'Si, pero no en los últimos 3 meses.'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Tranquilizantes_7'}
}

var if_question68 = { 
  timeline:[question68], 
  conditional_function: function (){ 
    var data = jsPsych.data.get().values(); var cont_prev = 0; var cont_next = 0; 
    var restriction_dict = [{"Tranquilizantes_1": "true"}]; 
    var answer_previous = []
    var answer_next = []
    answer_previous = answer_previous.concat([""]) 
    data.slice().reverse().forEach (function (element) { 
      if (answer_previous[0] !== "false"){
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[0]["Tranquilizantes_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[0]["Tranquilizantes_1"] = "false"}
      }
    })
    for (var i = 0; i < answer_previous.length; i++) 
      if (answer_previous[i] === 'true') 
        cont_prev += 1; 
    for (var j=0; j < answer_next.length; j++) 
      if (answer_next[j] === 'true')
        cont_next += 1; 
    if ((cont_next === 0 && cont_prev !== 0)) return true;
    return false 
  } 
} 

questions_experiment.push(if_question68);

var question69 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>¿Ha intentado alguna vez controlar, reducir o dejar de consumir alucinógenos (LSD, ácidos, ketamina, PCP, etc.) y no lo ha logrado?</div>", options: ['No, nunca.', 'Si, en los últimos 3 meses.', 'Si, pero no en los últimos 3 meses.'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Alucinogenos_7'}
}

var if_question69 = { 
  timeline:[question69], 
  conditional_function: function (){ 
    var data = jsPsych.data.get().values(); var cont_prev = 0; var cont_next = 0; 
    var restriction_dict = [{"Alucinogenos_1": "true"}]; 
    var answer_previous = []
    var answer_next = []
    answer_previous = answer_previous.concat([""]) 
    data.slice().reverse().forEach (function (element) { 
      if (answer_previous[0] !== "false"){
        if (element.trialid === "Alucinogenos_1" && restriction_dict[0]["Alucinogenos_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[0]["Alucinogenos_1"] = "false"}
      }
    })
    for (var i = 0; i < answer_previous.length; i++) 
      if (answer_previous[i] === 'true') 
        cont_prev += 1; 
    for (var j=0; j < answer_next.length; j++) 
      if (answer_next[j] === 'true')
        cont_next += 1; 
    if ((cont_next === 0 && cont_prev !== 0)) return true;
    return false 
  } 
} 

questions_experiment.push(if_question69);

var question70 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>¿Ha intentado alguna vez controlar, reducir o dejar de consumir opiáceos (heroína, metadona, codeína, morfina, dolantina/petidina, etc.) y no lo ha logrado?</div>", options: ['No, nunca.', 'Si, en los últimos 3 meses.', 'Si, pero no en los últimos 3 meses.'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Opiaceos_7'}
}

var if_question70 = { 
  timeline:[question70], 
  conditional_function: function (){ 
    var data = jsPsych.data.get().values(); var cont_prev = 0; var cont_next = 0; 
    var restriction_dict = [{"Opiaceos_1": "true"}]; 
    var answer_previous = []
    var answer_next = []
    answer_previous = answer_previous.concat([""]) 
    data.slice().reverse().forEach (function (element) { 
      if (answer_previous[0] !== "false"){
        if (element.trialid === "Opiaceos_1" && restriction_dict[0]["Opiaceos_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[0]["Opiaceos_1"] = "false"}
      }
    })
    for (var i = 0; i < answer_previous.length; i++) 
      if (answer_previous[i] === 'true') 
        cont_prev += 1; 
    for (var j=0; j < answer_next.length; j++) 
      if (answer_next[j] === 'true')
        cont_next += 1; 
    if ((cont_next === 0 && cont_prev !== 0)) return true;
    return false 
  } 
} 

questions_experiment.push(if_question70);

var question71 = {
  type:'survey-multi-choice',
  questions:[{prompt: '',options: ['']}],
  on_start: function(trial) {
    trial.questions = [{prompt: "<div class='justified'>¿Ha intentado alguna vez controlar, reducir o dejar de consumir "+variables["otra_sustancia"]+" y no lo ha logrado?</div>", options: ['No, nunca.', 'Si, en los últimos 3 meses.', 'Si, pero no en los últimos 3 meses.'], required: true, horizontal: false, not_enabled_options: 0}];
  },
  data: {trialid: 'Otros_8'}
}

var if_question71 = { 
  timeline:[question71], 
  conditional_function: function (){ 
    var data = jsPsych.data.get().values(); var cont_prev = 0; var cont_next = 0; 
    var restriction_dict = [{"Otros_1": "true"}]; 
    var answer_previous = []
    var answer_next = []
    answer_previous = answer_previous.concat([""]) 
    data.slice().reverse().forEach (function (element) { 
      if (answer_previous[0] !== "false"){
        if (element.trialid === "Otros_1" && restriction_dict[0]["Otros_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[0]["Otros_1"] = "false"}
      }
    })
    variable:otra_sustancia = variables['variable:otra_sustancia']; 
    for (var i = 0; i < answer_previous.length; i++) 
      if (answer_previous[i] === 'true') 
        cont_prev += 1; 
    for (var j=0; j < answer_next.length; j++) 
      if (answer_next[j] === 'true')
        cont_next += 1; 
    if ((cont_next === 0 && cont_prev !== 0)) return true;
    return false 
  } 
} 

questions_experiment.push(if_question71);

var question72 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>¿Ha consumido alguna vez alguna droga por vía inyectada?</div>", options: ['No, nunca.', 'Si, en los últimos 3 meses.', 'Si, pero no en los últimos 3 meses.'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Inyectada_1'}
}

var if_question72 = { 
  timeline:[question72], 
  conditional_function: function (){ 
    var data = jsPsych.data.get().values(); var cont_prev = 0; var cont_next = 0; 
    var restriction_dict = [{"Tabaco_1": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Colegio_1": "true"}, {"Tabaco_1": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Colegio_1": "true"}, {"Tabaco_1": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Colegio_1": "true"}, {"Tabaco_1": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Colegio_1": "true"}, {"Tabaco_1": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Colegio_1": "true"}, {"Tabaco_1": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Colegio_1": "true"}, {"Tabaco_1": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Colegio_1": "true"}, {"Tabaco_1": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Colegio_1": "true"}, {"Tabaco_1": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Colegio_1": "true"}, {"Tabaco_1": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Colegio_1": "true"}, {"Tabaco_1": "true", "Alcohol_1": "true", "Cannabis_1": "true", "Cocaina_1": "true", "Anfetamina_1": "true", "Inhalantes_1": "true", "Tranquilizantes_1": "true", "Alucinogenos_1": "true", "Opiaceos_1": "true", "Otros_1": "true", "Colegio_1": "true"}]; 
    var answer_previous = []
    var answer_next = []
    answer_previous = answer_previous.concat(["","","","","","","","","","",""]) 
    data.slice().reverse().forEach (function (element) { 
      if (answer_previous[0] !== "false"){
        if (element.trialid === "Tabaco_1" && restriction_dict[0]["Tabaco_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[0]["Tabaco_1"] = "false"}
      }
      if (answer_previous[1] !== "false"){
        if (element.trialid === "Alcohol_1" && restriction_dict[1]["Alcohol_1"] === "true"){ answer_previous[1] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[1]["Alcohol_1"] = "false"}
      }
      if (answer_previous[2] !== "false"){
        if (element.trialid === "Cannabis_1" && restriction_dict[2]["Cannabis_1"] === "true"){ answer_previous[2] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[2]["Cannabis_1"] = "false"}
      }
      if (answer_previous[3] !== "false"){
        if (element.trialid === "Cocaina_1" && restriction_dict[3]["Cocaina_1"] === "true"){ answer_previous[3] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[3]["Cocaina_1"] = "false"}
      }
      if (answer_previous[4] !== "false"){
        if (element.trialid === "Anfetamina_1" && restriction_dict[4]["Anfetamina_1"] === "true"){ answer_previous[4] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[4]["Anfetamina_1"] = "false"}
      }
      if (answer_previous[5] !== "false"){
        if (element.trialid === "Inhalantes_1" && restriction_dict[5]["Inhalantes_1"] === "true"){ answer_previous[5] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[5]["Inhalantes_1"] = "false"}
      }
      if (answer_previous[6] !== "false"){
        if (element.trialid === "Tranquilizantes_1" && restriction_dict[6]["Tranquilizantes_1"] === "true"){ answer_previous[6] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[6]["Tranquilizantes_1"] = "false"}
      }
      if (answer_previous[7] !== "false"){
        if (element.trialid === "Alucinogenos_1" && restriction_dict[7]["Alucinogenos_1"] === "true"){ answer_previous[7] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[7]["Alucinogenos_1"] = "false"}
      }
      if (answer_previous[8] !== "false"){
        if (element.trialid === "Opiaceos_1" && restriction_dict[8]["Opiaceos_1"] === "true"){ answer_previous[8] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[8]["Opiaceos_1"] = "false"}
      }
      if (answer_previous[9] !== "false"){
        if (element.trialid === "Otros_1" && restriction_dict[9]["Otros_1"] === "true"){ answer_previous[9] = (element['responses'] === '{"Q0":"Si"}').toString(); restriction_dict[9]["Otros_1"] = "false"}
      }
      if (answer_previous[10] !== "false"){
        if (element.trialid === "Colegio_1" && restriction_dict[10]["Colegio_1"] === "true"){ answer_previous[10] = (element['responses'] === '{"Q0":"Si, alguna vez en el colegio."}').toString(); restriction_dict[10]["Colegio_1"] = "false"}
      }
    })
    for (var i = 0; i < answer_previous.length; i++) 
      if (answer_previous[i] === 'true') 
        cont_prev += 1; 
    for (var j=0; j < answer_next.length; j++) 
      if (answer_next[j] === 'true')
        cont_next += 1; 
    if ((cont_next === 0 && cont_prev !== 0)) return true;
    return false 
  } 
} 

questions_experiment.push(if_question72);

var question73 = {
  type:'survey-multi-choice',
  questions: [{prompt: "<div class='justified'>¿Cual ha sido su patrón de inyección durante este período?</div>", options: ['Una vez a la semana o menos', 'Menos de 3 días seguidos', 'Más de una vez a la semana', '3 o más días seguidos'], required: true, horizontal: false, not_enabled_options: 0}],
  data: {trialid: 'Inyectada_2'}
}

var if_question73 = { 
  timeline:[question73], 
  conditional_function: function (){ 
    var data = jsPsych.data.get().values(); var cont_prev = 0; var cont_next = 0; 
    var restriction_dict = [{"Inyectada_1": "true"}]; 
    var answer_previous = []
    var answer_next = []
    answer_previous = answer_previous.concat([""]) 
    data.slice().reverse().forEach (function (element) { 
      if (answer_previous[0] !== "false"){
        if (element.trialid === "Inyectada_1" && restriction_dict[0]["Inyectada_1"] === "true"){ answer_previous[0] = (element['responses'] === '{"Q0":"Si, en los últimos 3 meses."}').toString(); restriction_dict[0]["Inyectada_1"] = "false"}
      }
    })
    for (var i = 0; i < answer_previous.length; i++) 
      if (answer_previous[i] === 'true') 
        cont_prev += 1; 
    for (var j=0; j < answer_next.length; j++) 
      if (answer_next[j] === 'true')
        cont_next += 1; 
    if ((cont_next === 0 && cont_prev !== 0)) return true;
    return false 
  } 
} 

questions_experiment.push(if_question73);

questions_experiment.unshift(instruction_screen_experiment);
questions.push.apply(questions, questions_experiment)

if (window.innerWidth != screen.width || window.innerHeight != screen.height){
  questions.unshift({
    type: 'fullscreen',
    message: '<p>El experimento entrará en modo pantalla completa</p>',
    button_label: 'Full screen',
    delay_after: 0,
    fullscreen_mode: true
  })
}
